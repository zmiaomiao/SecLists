<!doctype html>
<html id="ixtWorldWidePage" class="en_ES">
	<head>
<!-- BEGIN pre-common head -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 

<meta content="Worldwide Page" name="title">
<meta content="Worldwide Page" name="description">
<title>Worldwide Page</title>
<link rel="canonical" href="http://www.bershka.com/" />
<!-- BEGIN SPOT=BK3_ESpot_HeadBegin -->
<script src="//cdn.optimizely.com/js/2716260860.js"></script>
<!-- END SPOT=BK3_ESpot_HeadBegin -->

<!-- BEGIN SPOT=BK3_ESpot_WorldWidePageHead -->

<!-- END SPOT=BK3_ESpot_WorldWidePageHead -->

<link rel="stylesheet" type="text/css" href="/static/itxwebstandard/css/itx-core-main.min.css?t=20150922222823db" />

<script type="text/javascript" src="/static/itxwebstandard/js/itx-core-api.min.js?t=20150922222823db"></script>
<script type="text/javascript" src="/static/itxwebstandard/js/44009500/-1/40259503/BK3_ESpot_I18N.min.js?t=20150923042500"></script>

<!-- Begin JS Attachments -->
<!-- End JS Attachments -->

<!-- Begin CSS Attachments -->
<!-- End CSS Attachments -->


<script type="text/javascript">
	inditex.iBrand = "bershka";
	inditex.iBrandId = 4;
	inditex.iIsMobile = false;
	inditex.iIsMobileOn = false;
	inditex.iPage = "ItxWorldWidePage";
	inditex.iParams = {};
	inditex.iStoreId = 44009500;
	inditex.iStoreIdentifier = "BershkaES";
	inditex.iLangId = -1;
	inditex.iCatalogId = 40259503;
	inditex.iLayout = "itxwebstandard";
	inditex.iRegistryTs = "20150923042500";
	inditex.iCustomTs = "20150922222823db";
	inditex.iProxyHostMobile = "www.bershka.com";
	inditex.iProxyHostStandard = "www.bershka.com";
	inditex.iProxyPortMobile = 80;
	inditex.iProxyPortStandard = 80;
	inditex.iProxySecurePortMobile = 443;
	inditex.iProxySecurePortStandard = 443;
	inditex.iProxyContextPathMobile = "/m/";
	inditex.iProxyContextPathStandard = "/";
	inditex.iSecureSet = ["ItxShopCartPage","ItxCheckoutPage","ItxOrderConfirmationPage","ItxIFrameHelperPage"];
	inditex.iLocale = "en_ES";
	inditex.iCountryCode = "ES";
	inditex.iCountryName = "Spain";
	inditex.iSpotPrefix = "BK3_ESpot_";
	inditex.iCategoryId = null;
	inditex.iCategoryKey = null;
	inditex.iProductId = null;
	inditex.iMaxLastProductListLength = 10;
	inditex.iAsyncPaymentPollingTries = 5;
	inditex.iAsyncPaymentPollingInterval = 5000;
	inditex.iGoogleMapsUser = "gme-itxecommerceireland";
	inditex.iGoogleMapsKey = "ABQIAAAAuLM0t2_kkFjBTv19NCnv4xQ1eARysJDSA6Rsmys1__vV4q3ogRSAPpMJQEtE6PZS8bUt68TqwWpmdA";
	inditex.iGoogleMapsChannel = "Bershka";
	inditex.iGaKeyAnt = null;
	inditex.iGaKey1 = "UA-2867307-6";
	inditex.iGaKey2 = null;
	inditex.iGaDomain = ".www.bershka.com";
	inditex.iEnableUniversalAnalytics = "1";
	inditex.iAppId = 1;
</script>

<!-- Universal Analytics -->
	<script type="text/javascript">
		window['ga-disable-'+inditex.iGaKey1] = true;
		window['ga-disable-'+inditex.iGaKey2] = true; 
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	</script>
<!-- End Universal Analytics -->
<!-- END pre-common head -->
			<link rel="apple-touch-icon" sizes="57x57" href="/static/itxwebstandard/images/favicons/apple-touch-icon-57x57.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="60x60" href="/static/itxwebstandard/images/favicons/apple-touch-icon-60x60.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="72x72" href="/static/itxwebstandard/images/favicons/apple-touch-icon-72x72.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="76x76" href="/static/itxwebstandard/images/favicons/apple-touch-icon-76x76.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="114x114" href="/static/itxwebstandard/images/favicons/apple-touch-icon-114x114.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="120x120" href="/static/itxwebstandard/images/favicons/apple-touch-icon-120x120.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="144x144" href="/static/itxwebstandard/images/favicons/apple-touch-icon-144x144.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="152x152" href="/static/itxwebstandard/images/favicons/apple-touch-icon-152x152.png?t=20150922222823db">
			<link rel="apple-touch-icon" sizes="180x180" href="/static/itxwebstandard/images/favicons/apple-touch-icon-180x180.png?t=20150922222823db">
			<link rel="icon" type="image/png" href="/static/itxwebstandard/images/favicons/favicon-32x32.png?t=20150922222823db" sizes="32x32">
			<link rel="icon" type="image/png" href="/static/itxwebstandard/images/favicons/favicon-194x194.png?t=20150922222823db" sizes="194x194">
			<link rel="icon" type="image/png" href="/static/itxwebstandard/images/favicons/favicon-96x96.png?t=20150922222823db" sizes="96x96">
			<link rel="icon" type="image/png" href="/static/itxwebstandard/images/favicons/android-chrome-192x192.png?t=20150922222823db" sizes="192x192">
			<link rel="icon" type="image/png" href="/static/itxwebstandard/images/favicons/favicon-16x16.png?t=20150922222823db" sizes="16x16">
			<link rel="manifest" href="/static/itxwebstandard/images/favicons/manifest.json?t=20150922222823db">
			<link rel="shortcut icon" href="/static/itxwebstandard/images/favicons/favicon.ico?t=20150922222823db">
			<meta name="msapplication-TileColor" content="#ffffff">
			<meta name="msapplication-TileImage" content="/static/itxwebstandard/images/favicons/mstile-144x144.png?t=20150922222823db">
			<meta name="msapplication-config" content="/static/itxwebstandard/images/favicons/browserconfig.xml?t=20150922222823db">
			<meta name="theme-color" content="#ffffff">
		<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- END page head -->

<!-- BEGIN post-common head -->
<script type="text/javascript" src="https://static.bershka.net/4/static/itxwebstandard/js/itx-custom-api.min.js?t=20150923042500"></script>

<!-- BEGIN SPOT=BK3_ESpot_Inditex -->
<script type="text/javascript">
	ItxUserPaymentPageClass.prototype._init = function() {
		var self = this;
		
		inditex.getUserType(function(userType) {
			if (userType == 'W' || userType == 'WS') {
				self._getCards(function(cards) {
					self.iScope.iCards = cards.walletCards;
					self._loadBindings();
					self.iScope.$apply();
					self._refreshWaypoints();
					$(".edit").first().hide();
				});
			}
		});
	};
</script><script type="text/javascript">
	inditex.getHashTags = function(product) {
		var hashTags = [];
		
		if (product && product.detail && product.detail.longDescription && product.detail.longDescription != ""){
			hashTags.push(product.detail.longDescription);
		} else if(product && product.name && product.name != "") {
			hashTags.push(product.name);
		}
			
		return hashTags;	
	};
</script><script type="text/javascript">

// ECOMBSKA-3265
if (!Array.prototype.filter) {
	  Array.prototype.filter = function(fun/*, thisArg*/) {
	    'use strict';

	    if (this === void 0 || this === null) {
	      throw new TypeError();
	    }

	    var t = Object(this);
	    var len = t.length >>> 0;
	    if (typeof fun !== 'function') {
	      throw new TypeError();
	    }

	    var res = [];
	    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;
	    for (var i = 0; i < len; i++) {
	      if (i in t) {
	        var val = t[i];

	        // NOTA: Tecnicamente este Object.defineProperty deben en 
	        //        el indice siguiente, como push puede ser 
	        //        afectado por la propiedad en object.prototype y 
	        //        Array.prototype.
	        //       Pero estos metodos nuevos, y colisiones deben ser
	        //       raro, asÃ­ que la alternativas mas compatible.       
	        if (fun.call(thisArg, val, i, t)) {
	          res.push(val);
	        }
	      }
	    }

	    return res;
	  };
	}

inditex.filterStates = function (states) {
	return states.filter(function(element) {
		return !(element.code == "ESTF" || element.code == "ESGC")
	});
};

ItxMyAccountReturnsPageClass.prototype._init = function() {
	var self = this;
	
	inditex.execute({
		"actions": [{
			"action": "order:orders",
			"params": {
				"storeId": inditex.iStoreId,
				"languageId": inditex.iLangId
			}
		},{
			"action": "user:addressBook",
			"params": {
				"storeId": inditex.iStoreId,
				"languageId": inditex.iLangId
			}
		},{
			"action": "catalog:returnReason",
			"params": {
				"storeId": inditex.iStoreId,
				"languageId": inditex.iLangId
			}
		},{
			"action" : "bam:states",
			"params" : {
				"storeId": inditex.iStoreId,
				"languageId" : inditex.iLangId
			}
		},{
			"action" : "marketing:marketingSpots",
			"params" : {
				"storeId": inditex.iStoreId,
				"catalogId": inditex.iCatalogId,
				"languageId" : inditex.iLangId,
				"spot": inditex.iSpotPrefix + "RUSIA_Download_Form"
			}
		}],
		"onFinish": function (status, orders, addressBook, returnReasons, states, spot) {
			if (status == 1) {
				self.iScope.orders = self._filterOrders(orders.orders);
				self.iScope.addresses = addressBook.addresses;
				self.iScope.returnReasons = returnReasons.returnReasons;
				self.iScope.states = inditex.filterStates(states.states);
				self.iScope.isCod = false;
				self.iScope.spot = spot;

				//En Rusia se tiene que permitir la descarga del formulario de devoluciones
				if (inditex.iStoreJSON.countryCode.toLowerCase() === "ru") {
					self._formatStep3String(spot);
				}
				
				// Inicializacion de provincia para Rusia
				if (inditex.isPatronymic()) {
					self.iScope.returnMethod = {
							"russianPost": {
								"state": self.iScope.states[0],
								"phone": {
									"countryCode": inditex.iStoreJSON.details.phoneCountryCode
								}
							}
					};
				} 
				
				self.iScope.currentStep = 'step1';
				
				self._bindings();
				self.iScope.$apply();
				self._refreshWaypoints();
			} else {
				inditex.xOpenErrorPopUp(278, 'auto');
			}
		}
	});
};

/**
 * Carga de datos
 * @private
 */
ItxOrderPaymentPageClass.prototype._loadData = function() {

    var self = this;
    
    self.iScope.iIsInstantCheckout = inditex._getURLParameter('instantCheckout') == 1;

    var actions = [];

    actions.push({
        "action": "order:paymentMethods",
        "params": {
            "storeId": inditex.iStoreId,
            "languageId": inditex.iLangId,
            "orderId": inditex.iUserJSON.shopCart ? inditex.iUserJSON.shopCart.id : ''
        }
    });

    actions.push({
        "action": "bam:states",
        "params": {
            "storeId": inditex.iStoreId,
            "languageId": inditex.iLangId
        }
    });

    if (inditex.iUserJSON.isWalletUser) {
        actions.push({
            "action": "wallet:getWalletCards",
            "params": {
                "storeId": inditex.iStoreId,
                "languageId": inditex.iLangId
            }
        });
    }

    inditex.execute({
        "actions": actions,
        "onFinish": function (status, response1, response2, response3, response4) {
            if (status == 1 || status == 0) {
                self.iScope.$apply(function() {
                    //Payment methods
                    self.iScope.paymentMethods = response1.paymentMethods;
                    angular.forEach(self.iScope.paymentMethods, function(method) {
                        method.app = { };                        
                        method.app.imageUrl = inditex.getPaymentMethodImageUrl(method,'png');
                    });

                    //States
                    self.iScope.states = inditex.filterStates(response2.states);

                    //User wallet cards
                    if (inditex.iUserJSON.isWalletUser) {
                        self.iScope.walletCards = response3.walletCards;
                        angular.forEach(self.iScope.walletCards, function(card, i) {
                            if (card.defaultCard) {
                                self.iScope.selectWalletCard(card);
                            }
                            card.code=card.paymentCode;
                    	});
                    } else {
                        self.iScope.isPaymentMethodSelectorVisible = true;
                    }

                    //Check if payment refused or rejected
                    var status = inditex._getURLParameter("status");
                    if (status) {
                        if (status == "canceled") {
                            inditex.xOpenErrorPopUp(278, "auto", inditex.text("modal.errorTitle"), inditex.text("payment.canceled"), null);
                        } else if (status == "refused") {
                            inditex.xOpenErrorPopUp(278, "auto", inditex.text("modal.errorTitle"), inditex.text("payment.refused"), null);
                        }
                    }
                });
            }
        }
    });
};

/**
 * Inicia el proceso de renderizado
 */
ItxOrderShippingPageClass.prototype._initRenderProcess = function(shippingMethods, states, addressBook, orderPreview) {
	var self = this;
	
	// Metodos de envio
	if (inditex.iStoreJSON.details.postalCodeRestriction == "1") {
		if (addressBook && addressBook.addresses && addressBook.addresses.length > 0) {
			// Metodos de envio restringidos por codigo postal
			self._getShippingMethodsByZipCode(addressBook.addresses[0], function(result) {
				self.iScope.iShippingMethods = result;
				self.iScope.$apply();
				self._setShippingMethodByDefault(orderPreview);
			});
		} else {
			// Metodos de envio por defecto con codigo postal restringido
			self._getShippingMethodsByZipCodeByDefault(function(result) {
				self.iScope.iShippingMethods = result;
				self.iScope.$apply();
				self._setShippingMethodByDefault(orderPreview);
			});
		}
	} else {
		// Metodos de envio sin codigo postal restringido
		self.iScope.iShippingMethods = shippingMethods.shippingMethods;
		self._setShippingMethodByDefault(orderPreview);
	}
	
	// Provincias
	self.iScope.iStates = inditex.filterStates(states.states);
	
	self.iScope.iUserAddresses = addressBook.addresses;
	
	// Guarda la tienda seleccionada en caso de envio a tienda
	self.iScope.iSelectedStore = undefined;
	
	// Guarda el drop point seleccionado en caso de envio a drop point
	self.iScope.iSelectedDropPoint = undefined;
	
	// Arrays de tiendas
	self.iScope.iFavouriteStores = undefined;
	self.iScope.iLastUsedStores = undefined;
	self.iScope.iCloserStores = undefined;
	self.iScope.iSuggestedStores = undefined;
	self.iScope.iSearchedStores = undefined;
	
	self.iScope.iShippingMethodsExpanded = true;
	self.iScope.iShowAddressForm = false;
	self.iScope.iShowContactDetailsForm = false;
	self.iScope.iShowShippingAddressForm = false;
	self.iScope.iShowSuggestedStores = true;
	self.iScope.iShowNoStoresMsg = false;
	self.iScope.iWalletShowChangeAddress = false;
	self.iScope.iSemiguestShowForm = true;
	self.iScope.iGuestSemiguestShowContactAndDeliveryForm = true;

	// FORMULARIOS
	// contactDetailsForm
	self._initConcactDetailsForm();
	
	// contactDeliveryForm
	self._initContactAndDeliveryForm();
	
	// contactAndDeliveryForm2
	self._initContactAndDeliveryForm2();
	
	// shippingAddressForm
	self._initShippingAddresForm();
	
	// dropPointCheckoutForm
	self._initDropPointCheckoutForm();
	
	self.doCustomSelectCallback = true;
	
	// La primera direccion es la de facturacion, si hay mas se usan como direcciones de envio
	if (self.iScope.iUserAddresses && self.iScope.iUserAddresses.length > 0) {
		self.iScope.iBillingAddress = self.iScope.iUserAddresses[0];
		
		// Si es instant checkout, se selecciona la direccion correspondiente y se guarda el metodo de envio
		if (self.iScope.iIsInstantCheckout) {
			self.iScope.iShippingAddress = $.grep(self.iScope.iUserAddresses, function(item, i) {
				return item.id == self.parentScope.iShopCart.shipping.shippingData.walletAddressId;
			})[0];
			if (self.iScope.iShippingAddress) {
				self.iScope.iShippingAddressId = self.iScope.iShippingAddress.id;
				self._updateShippingMethod();
				self.iScope.$root.$broadcast('shipping:selectWalletCard', orderPreview[1]);
			}
		} else {
			self.iScope.iShippingAddress = self.iScope.iUserAddresses[0];								
		}
	}
	
	self._updateShippingMethod();
	
	// Inicializacion de formularios
    if (self.iScope.iBillingAddress) {
    	self._preloadForms();
    	self.iScope.iSemiguestShowForm = self._getSemiguestShowForm();
    }
	
	// Si es usuario registrado, se recuperan las tiendas a mostrar como sugeridas
	if(self.iScope.iUserType != 'G') {
		// Se recupera la info de geolocalizacion de la direccion de facturacion
		inditex.getGoogleCoords(inditex.iStoreJSON.countryCode, self.iScope.iBillingAddress ? self.iScope.iBillingAddress.zipCode : undefined, function(result) {
			// Acciones
			var actions = [];
			
			actions.push({
				"action": "bam:physicalStores1",
				"params": {
					"storeId" : inditex.iStoreId,
					"languageId": inditex.iLangId,
					"latitude" : result ? result.geometry.location.lat() : undefined,
					"longitude" : result ? result.geometry.location.lng() : undefined,
					"favouriteStores": true,
					"lastStores": true,
					"receiveEcommerce" : true,
					"countryCode" : inditex.iStoreJSON.countryCode,
					"max": 5
				}
			});	
			
			// Se recuperan las tiendas favoritas, cercanas y ultimas usadas para mostrar como sugerencia
			inditex.execute({
				"actions": actions,
				"onFinish": function (actionStatus, stores) {
					if (actionStatus == 1) {
						// Si el usuario es wallet, se marca la priemra tienda favorita como seleccionada
						if (self.iScope.iUserType == 'W' || self.iScope.iUserType == 'WS') {
							self.iScope.iSelectedStore = stores.favouriteStores[0];
							
							// Si es instant checkout, se marca la tienda seleccionada y se guarda el metodo de envio
							if (self.iScope.iIsInstantCheckout) {
								inditex.execute({
									"actions": [{
										"action": "bam:physicalStore",
										"params": {
											"storeId" : inditex.iStoreId,
											"languageId": inditex.iLangId,
											"physicalStoreId" : self.parentScope.iShopCart.shipping.shippingData.physicalStoreId
										}
									}],
									"onFinish": function (actionStatus2, store) {
										if (actionStatus2 == 1) {
											self.iScope.iSelectedStore = store;
											self._updateShippingMethod();
											self.iScope.$root.$broadcast('shipping:selectWalletCard', orderPreview[1]);
											self.iScope.$apply();
										}
									}
								});		
							}
						}
						
						self.iScope.iFavouriteStores = stores.favouriteStores;
						self.iScope.iLastUsedStores = stores.lastUsedStores;
						self.iScope.iCloserStores = stores.closerStores;
						
						self.iScope.iSuggestedStores = self._getStoresMix(self.iScope.iFavouriteStores, self.iScope.iLastUsedStores, self.iScope.iCloserStores);
						
						self.iScope.$apply();
					}
				}
			});			
		});
	}
	
	// Bindings
	self._loadBindings();
	
	// Se aplican los cambios en el contexto de Angular
	self.iScope.$apply();

	self._initDynamicCustomElements();
};

ItxUserAccountPageClass.prototype._init = function() {
	var self = this;

	var actions = [];
	
	// Comprobamos newsletter para activar check
	actions.push({
		"action" : "user:newsletterStatus",		
		"params": {
			"storeId": inditex.iStoreId,
			"languageId" : inditex.iLangId
		}
	});
	
	// Recuperamos tiendas favoritas
	actions.push({
		"action" : "bam:physicalStores1",
		"params" : {
			"storeId": inditex.iStoreId,
			"languageId" : inditex.iLangId,
			"favouriteStores" : "true",
			"lastStores" : "false",
			"receiveEcommerce" : "true"
		}
	});
	
	// Paises para busqueda de tiendas
	actions.push({
		"action" : "bam:country",
		"params" : {
			"storeId": inditex.iStoreId,
			"languageId" : inditex.iLangId
		}
	});
	
	//Libreta de direcciones del usuario
	actions.push({
		"action" : "user:addressBook",
		"params" : {
			"storeId": inditex.iStoreId,
			"languageId" : inditex.iLangId
		}
	});
	
	//Provincias para el pais actual
	actions.push({
		"action" : "bam:states",
		"params" : {
			"storeId": inditex.iStoreId,
			"languageId" : inditex.iLangId
		}
	});
	
	//Available data del usuario
	actions.push({
		"action" : "user:userAvailableData",
		"params" : {
			"storeId": inditex.iStoreId,
			"languageId" : inditex.iLangId
		}
	});
	
	inditex.getUserType(function(userType){
		
		self.iScope.userType = userType;
		
		inditex.execute({
			"actions": actions,
			"onFinish": function (status, newsletter, pStores, countries, addressBook, states, userAvailData) {
				if (status == 1){				
					if (newsletter.newsletter == ""){
						self.iScope.maNewsletter = false;
					}else {
						self.iScope.maNewsletter = true;					
					}
					
					self.iScope.favouriteStores = pStores.favouriteStores;
					self.iScope.countries = countries.countries;
					self.iScope.states = inditex.filterStates(states.states);
					self.iScope.addresses = addressBook.addresses;
					self.iScope.countrySel = inditex.getStoreByCode(self.iScope.countries, inditex.iStoreJSON.countryCode);
					
					if (addressBook.addresses.length > 0){
						var filterAddress = addressBook.addresses[0];
						if (userType == "S" || userType == 'WS'){
							filterAddress = inditex.filterBillingAddress(addressBook.addresses[0], userAvailData);					
						}
						self.iScope.billingAddress = filterAddress;		
						self.iScope.billingA = {
								"vatin" : filterAddress.isCompany?filterAddress.company.vatin:(filterAddress.vatin || ''),
								"companyName" : filterAddress.isCompany?filterAddress.company.name:''
						};
					}
					
					// Se necesita inicializar el array de addressLines
					self.iScope.addAddress = {
						"addressLines": [],
                        "phones":[{
                            "countryCode": inditex.iStoreJSON.details.phoneCountryCode
                        }]
					};
					
					self._bindings();	
					self._formsValidate();
					self._angularMethods();

					self.iScope.$apply();
					
					$('#maNewStoreCountry').attachCustomSelect();

					self._checkOverflows();

				} else {
					inditex.xOpenErrorPopUp(278, 'auto');
					// ga
					var msg = '/Error_Occured';
					inditex.trackPage(msg);
				}
			}
		});
	});	
};

</script><script type="text/javascript">

	// FIX_ECOMBSKA-3463
	ItxCategoryPageClass.prototype._drawMSpot = function(product, root) {

		var self = this;
		
		root.addClass('text-mspot');

		var html = product.detail.longDescription;

		if (html && html != null && html != '') {
			var div = $('<h3></h3>');
			div.append(html).appendTo(root);
		}

	};
	
</script><script type="text/javascript">

	inditex.iJetloreTrackingURL = "";
	inditex.iJetloreAccessToken = "";
	inditex.iEnableJetloreTracking = false;

    if (!Date.now) {
        Date.now = function() { return new Date().getTime(); }
    }

	//'JETLORE_TRACKING_URL' => URL a la que se van a hacer los trackings de Jetlore ("http"+"s://api.jetlore.com/track.png")
	//'JETLORE_TRACKING_ACCESS_TOKEN' => Token de acceso para realizar los trackings de Jetlore ("af4d8e2761a748eab4a54daad3033ec59cfb13094be990a0b39529c7f531a9c5")
	//'ENABLE_JETLORE_TRACKING' => Habilita los trackings de Jetlore ("true")

	var actions = [];

	actions.push({
		"action": "oam:xconfiguracion",
		"params": {
			"storeId": inditex.iStoreId,
			"languageId": inditex.iLangId,
			"variable": "JETLORE_TRACKING_URL"
		}
	});

	actions.push({
		"action": "oam:xconfiguracion",
		"params": {
			"storeId": inditex.iStoreId,
			"languageId": inditex.iLangId,
			"variable": "JETLORE_TRACKING_ACCESS_TOKEN"
		}
	});

	actions.push({
		"action": "oam:xconfiguracion",
		"params": {
			"storeId": inditex.iStoreId,
			"languageId": inditex.iLangId,
			"variable": "ENABLE_JETLORE_TRACKING"
		}
	});	
							
	//Get XConfiguracion items
	inditex.execute({
		"actions": actions,
		"onFinish": function (status, response1, response2, response3) {
			//console.log(response1, response2, response3);
			if (status == 1) {
				if (!response1.value || !response2.value || !response3.value) {
					console.log("The JetLore variables are not configured");
				} else {
					inditex.iJetloreTrackingURL = response1.value;
					inditex.iJetloreAccessToken = response2.value;
					if (response3.value === "1") {
						inditex.iEnableJetloreTracking = true;
					} else {
						inditex.iEnableJetloreTracking = false;
					}
				}
			} else {
				console.log("Cannot retrieve JetLore configuration variables");
			}
		}
	});		

	inditex.trackJetlore = function(trackQuery) { 
		var self=this;
		
		
		if(self.iEnableJetloreTracking){
        	var userHash = '';
        	
			if (inditex.iUserJSON.userType == 'R') {
				userHash = CryptoJS.MD5('' + inditex.iUserJSON.identity.userId).toString();
			}
			
			var countryCode = inditex.iStoreJSON.countryCode.toLowerCase();
			if(countryCode == 'ic'){
				countryCode = 'escn';
			}
			inditex.iJetloreStore =  'bershka' + countryCode;
			
			var trackLink = inditex.iJetloreTrackingURL + '?access_token=' + inditex.iJetloreAccessToken + '&id=' + userHash + "&feed="+ inditex.iJetloreStore + trackQuery;
            trackLink = trackLink + "&t=" + Date.now()

			var trackImage = $('<img>').attr('src', trackLink);
			jQuery('body').append(trackImage);
		
        } 
	}; 
	
	inditex.trackJetloreProductView = function(productId) { 
		var self=this;
		if(self.iEnableJetloreTracking){
			var trackQuery = '&action=click&pid='+productId;
			self.trackJetlore(trackQuery);
		}
	}
	
	inditex.trackJetlorePurchaseEvents = function(orderJson) { 
		var self=this;
		if(self.iEnableJetloreTracking){
			var itemsToTrack = [];
		    $.each(orderJson.items, function(i, j) {
		        var itemToTrack = {
		            pid: j.parentId,
		            count: j.quantity,
		            size: j.size,
		            color: j.color,
		        }
		        itemsToTrack.push(itemToTrack);
		
		    });
		    var trackQuery = "&action=purch&data=" + encodeURI(JSON.stringify(itemsToTrack));
			self.trackJetlore(trackQuery);
		}
	}
	
	inditex.trackJetloreSearchEvents = function(searchQuery) { 
		var self=this;
    	var dataArray = [];
		var data = {
			'text': searchQuery +''
		}
		dataArray.push(data);
		trackQuery ='&action=search&data='+ encodeURI(JSON.stringify(dataArray));
		self.trackJetlore(trackQuery);
	}
	
	inditex.trackJetloreShoppingEvents = function(item, quantity) { 
		if (quantity != 0){
			var self=this;
			if(self.iEnableJetloreTracking){
				var trackAction = 'remove_from_cart';
				var trackData ='';
				if (quantity > 0) {
					trackAction = 'add_to_cart';
				}
				var absQuantity = Math.abs(quantity);
				var data = '';
				if (absQuantity > 1) {
					var itemArray = [];
					var trackItem = {
						pid: item.parentId,
						count: absQuantity,
						color: item.color,
						size: item.size
					};
					itemArray.push(trackItem);
					data = '&data=' + encodeURI(JSON.stringify(itemArray));
				} else {
					data = '&pid=' + item.parentId;
				}
				var trackQuery = '&action=' + trackAction + data;
				self.trackJetlore(trackQuery);
			}
		}
	}
	
	
	/*********** ItxProductPage **********************/
	ItxProductPageClass.prototype._init = function(){
		var self = this;
		
		// ECOMBSKA-2369 evitar que se muestre el footer al navegar entre productos
		$('#fixed-controls-wrapper').css('min-height', $(window).outerHeight(true));
		
		$('.prod-images').css('visibility', 'hidden');
			
		// Acciones
		var actions = [];
		
		// User
		actions.push({
			"action": "user:currentUser",
			"params": {
				"storeId": inditex.iStoreId
			}
		});

		//Categoria
		actions.push({
				"action": "catalog:category",
				"params": {
					"storeId": inditex.iStoreId,
					"languageId": inditex.iLangId,
					"catalogId": inditex.iCatalogId,
					"categoryId" : inditex.iCategoryId
				}
		});
		
		// Producto
		actions.push({
			"action": "catalog:productDetail",
			"params": {
				"storeId" : inditex.iStoreId,
				"languageId": inditex.iLangId,
				"catalogId": inditex.iCatalogId,
				"categoryId": inditex.iCategoryId,
				"productId": inditex.iProductId
			}
		});
		
		// Stock
		actions.push({
			"action": "catalog:productStock",
			"params": {
				"storeId": inditex.iStoreId,
				"languageId": inditex.iLangId,
				"catalogId": inditex.iCatalogId,
				"productId": inditex.iProductId
			}
		});
		
		// ALTERNATIVE_CURRENCY
		actions.push({
			"action": "oam:xconfiguracion",
			"params": {
				"storeId": inditex.iStoreId,
				"variable" : "ALTERNATIVE_CURRENCY",
				"languageId": inditex.iLangId
			}
		});
		
		inditex.execute({
			"actions": actions,
			"onFinish": function (status, user, category, product, stock, alternativeCurrency) {
				if (status == 1) {
					// Se recupera la informacion necesaria
					self.iScope.iCategory = category;
					self.iScope.iProduct = product;
					self.iScope.iStock = stock;
					self.iScope.modelWearing = inditex.text('modelIsWearing' + product.section);

					if (alternativeCurrency != null && alternativeCurrency.value != null) {
						try{
							 inditex.alternativeCurrency = JSON.parse(alternativeCurrency.value);	
						}catch(e){
							
						}					
					}
					
					// ga
					inditex.trackPage('/' + category.key + '-' + category.id + '/Ficha_Producto/' + self.iScope.iProduct.detail.reference);
					
					if (inditex.iCategoryId == 0){
						if (product.relatedCategories[0]){
							inditex.iCategoryId = product.relatedCategories[0].id;						
						}
					}
					
					// Variables para mostrar/ocultar datos
					self.iScope.iIsProductBean = self.iScope.iProduct.type == 'ProductBean';
					self.iScope.iIsBikini = !self.iScope.iIsProductBean && self.iScope.iProduct.bundleProductSummaries.length == 2;
					self.iScope.iIsIe8 = $('html').hasClass('ie8');
					self.iScope.iShowCompositionBox = false;
					self.iScope.iShowDeliveryBox = false;
					self.iScope.iShowInstagramImg = false;
					self.iScope.iPrevProductId = -1;
					self.iScope.iNextProductId = -1;
					self.skrollr = undefined;
					self.slider = undefined;
					
					// Se incluye el producto entre los ultimos vistos
					inditex.addProductToLastProductList(self.iScope.iProduct);
					
					// Filtros
					self._getFilters();
					
					// Mapa de visibilidad
					self.iScope.iVisibilityMap = inditex.getProductVisibilityMap([product], stock.stocks);
					
					// ProductBean
					if (self.iScope.iIsProductBean) {
						// Precios
						self.iScope.iRangeProductPrice = inditex.rangePriceProduct(self.iScope.iProduct, self.iScope.iVisibility);
					
						// Color y talla seleccionado
						self.iScope.iColor = inditex.getColor(self.iScope.iProduct.detail.colors, self._getColorId(), self.iScope.iVisibilityMap);
						if(self.iScope.iColor.sizes.length > 1){
							self.iScope.iSize = undefined;											
						}else {
							self.iScope.iSize = self.iScope.iVisibilityMap[self.iScope.iColor.sizes[0].sku] != 'show'? undefined : self.iScope.iColor.sizes[0];																	
						}
						self.iScope.iAllSizesDisabled = inditex.checkAllSizesDisabled(self.iScope.iColor, self.iScope.iVisibilityMap);
						
						// Composicion y cuidados
						self.iScope.iCompositions = inditex.getCompositions(self.iScope.iProduct);
						self.iScope.iCares = inditex.getCares(self.iScope.iProduct, self.iScope.iCares);
						
						// Productos relacionados
						self._loadRelatedProducts(true);
						
					} else {
						if (self.iScope.iIsBikini) {
							// Tallas seleccionadas si es bikini
							self.iScope.iBikiniSizes = {
								size1: undefined,
								size2: undefined
							};
						}
						
						// Se eliminan las capas que no se muestran para Bundles (si se hace con ng-if no funcionan algunos bindings)
						$('#stickyAddToBag, #crossSellingModule, #compositionLink' ).remove();
						
						// Precios
						self.iScope.iRangeProductPrice = inditex.rangePriceBundleProduct(self.iScope.iProduct);
					}
					
					// Links de enlaces sociales
					var desc = inditex.capitalize(inditex.iBrand) + " " +
							   inditex.capitalize(inditex.iCountryName) + " - " +
							   self.iScope.iProduct.name;

					self.iScope.iSocialLinks = inditex.getSocialLinks(inditex.iPage, self.iScope.iProduct.id, desc, self.iScope.iIsProductBean ? self.iScope.iColor.id : (self.iScope.iProduct.bundleColors.length>0?self.iScope.iProduct.bundleColors[0].id:null));
					
					// Tienda de no venta
					// Se elimina la informacion que no se debe mostrar que no se puede ocultar con ng-if
					if (!inditex.isOpenForSale()) {
						$('#deliveryLink').remove();
					}
					
					// Si es ie8 se borran los progress-button
					if (self.iScope.iIsIe8) {
						$('.removeIE8').remove();
					}
					
					// Indice de la imagen a mostrar en el zoom. Si es negativo no se muestra ninguna
					self.iScope.iZoomImageIndex = -1;
					
					// Numero de imagenes de zoom
					self.iScope.iZoomImagesLength = 0;
					
					// Bindings
					self._loadBindings();
					
					// Se aplican los cambios en el contexto de Angular
					self.iScope.$apply();
					
					// ECOMBSKA-2369 evitar que se muestre el footer al navegar entre productos
					$('html').css('visibility','visible');
					var imgLoad = imagesLoaded('#fixed-controls-wrapper .prod-images');
					function onAlways(instance) {
						setTimeout(function() {
							$('#fixed-controls-wrapper').css('min-height', 0);
						}, 1000);
					}
					imgLoad.on('always', onAlways);
					
					self._setIE8Styles();
					
					inditex.trackJetloreProductView(inditex.iProductId);

				} else {
					inditex.xOpenErrorPopUp(278, 'auto');
				}						
			}
		});
		
	};
	//ItxProductPageClass.prototype._init = function(){
	//	inditex.trackJetloreProductView(inditex.iProductId);
		
	
	/*********** ItxAjaxProductPage **********************/
	ItxAjaxProductPageClass.prototype._init = function() {
		var self = this;
		inditex.trackJetloreProductView(self.iScope.params.productId);
		// Evita saltos al renderizar la informacion
		$('#itxAjaxProductPage').css('visibility', 'hidden');
		$('#loaderGif').css('visibility', 'visible');
		$('#loaderGif').fadeIn('slow');

		if (self.iScope.params) {
			
			var productId = self.iScope.params.productId;
			var categoryId = self.iScope.params.categoryId;
			var colorId = undefined;
			
			if (self.iScope.params.colorId) {
				colorId = self.iScope.params.colorId;
			}
			
			// Acciones
			var actions = [];		
			
			// User
			actions.push({
				"action": "user:currentUser",
				"params": {
					"storeId": inditex.iStoreId
				}
			});
			
			//Categoria
			actions.push({
					"action": "catalog:category",
					"params": {
						"storeId": inditex.iStoreId,
						"languageId": inditex.iLangId,
						"catalogId": inditex.iCatalogId,
						"categoryId" : inditex.iCategoryId
					}
			});
			
			// Producto
			actions.push({
				"action": "catalog:productDetail",
				"params": {
					"storeId" : inditex.iStoreId,
					"languageId": inditex.iLangId,
					"catalogId": inditex.iCatalogId,
					"categoryId": categoryId,
					"productId": productId
				}
			});
			
			// Stock
			actions.push({
				"action": "catalog:productStock",
				"params": {
					"storeId": inditex.iStoreId,
					"languageId": inditex.iLangId,
					"catalogId": inditex.iCatalogId,
					"productId": productId
				}
			});
			
			// ALTERNATIVE_CURRENCY
			actions.push({
				"action": "oam:xconfiguracion",
				"params": {
					"storeId": inditex.iStoreId,
					"variable" : "ALTERNATIVE_CURRENCY",
					"languageId": inditex.iLangId
				}
			});
			
			inditex.execute({
				"actions": actions,
				"onFinish": function (status, user, category, product, stock, alternativeCurrency) {
					if (status == 1) {
						// Se recupera la informacion necesaria
						self.iScope.iCategory = category;
						self.iScope.iProduct = product;
						self.iScope.iStock = stock;
						
						if (alternativeCurrency != null && alternativeCurrency.value != null) {
							try{
								 inditex.alternativeCurrency = JSON.parse(alternativeCurrency.value);	
							}catch(e){
								
							}						
						}
						
						// Variables para mostrar/ocultar datos
						self.iScope.iIsProductBean = self.iScope.iProduct.type == 'ProductBean';
						self.iScope.iShowCompositionBox = false;
						self.slider = undefined;
						self.iScope.iIsIe8 = $('html').hasClass('ie8');
						
						// Se incluye el producto entre los ultimos vistos
						inditex.addProductToLastProductList(self.iScope.iProduct);

						// Mapa de visibilidad
						self.iScope.iVisibilityMap = inditex.getProductVisibilityMap([product], stock.stocks);
						
						if (self.iScope.iIsProductBean) {
							// Precios
							self.iScope.iRangeProductPrice = inditex.rangePriceProduct(self.iScope.iProduct, self.iScope.iVisibility);
							
							// Color y talla seleccionado
							self.iScope.iColor = inditex.getColor(self.iScope.iProduct.detail.colors, colorId, self.iScope.iVisibilityMap);
							self.iScope.iSize = self.iScope.iColor.sizes.length > 1 ? undefined : self.iScope.iColor.sizes[0];
							
							// Composicion y cuidados
							self.iScope.iCompositions = inditex.getCompositions(self.iScope.iProduct);
							self.iScope.iCares = inditex.getCares(self.iScope.iProduct, self.iScope.iCares, self.iScope);
						} else {
							// Precios
							self.iScope.iRangeProductPrice = inditex.rangePriceBundleProduct(self.iScope.iProduct);
							
							// Tallas seleccionadas
							self.iScope.iSizes = new Array(self.iScope.iProduct.bundleProductSummaries.length);

							// Si algun producto solo tiene una talla, se preselecciona
							$.each(self.iScope.iProduct.bundleProductSummaries, function(index, bundleProduct) {
								if (bundleProduct.detail.colors[0].sizes.length == 1) {
									self.iScope.iSizes[index] = bundleProduct.detail.colors[0].sizes[0];
								}
							});
							
							$('#shopLookContainer-productList').mCustomScrollbar({
								mouseWheel : true,												
								scrollButtons : {
									enable : false
								},
								autoDraggerLength : true,
								advanced : {
									updateOnContentResize : true,
									autoScrollOnFocus : false,
									contentTouchScroll : false
								}
							});	
							
						}
					
						// Si es ie8 se borran los progress-button
						if (self.iScope.iIsIe8) {
							$('.removeIE8').remove();
						}
						
						// Bindings
						self._loadBindings();
						
						// Se aplican los cambios en el contexto de Angular
						self.iScope.$apply();
						
						if (self.iScope.iIsProductBean) {
							self.iScope.iAllSizesDisabled = inditex.checkAllSizesDisabled(self.iScope.iColor, self.iScope.iVisibilityMap);
						}
					} else {
						inditex.xOpenErrorPopUp(278, 'auto');
					}						
				}
			});
			
		} else {
			inditex.xOpenErrorPopUp(278, 'auto');
		}
	};
	
	/*********** ItxOrderConfirmationPage **********************/
	ItxOrderConfirmationPageClass.prototype._init = function(){
	var self = this;
	
	self.iScope.showUpdate = false;
	self.iScope.showSign = false;
	self.iScope.showLogin = false;
	self.iScope.hideSaveButton = false;
	self.iScope.showChangePass = false;
	self.iScope.regGuest = false;	
	self.iScope.canReg = true;
	
	angular.element('#checkoutMenuOrderConfirm').addClass('active');
	
	var orderId = inditex._getURLParameter('orderId');
	self.iScope.orderId = orderId;
	
	if (orderId != null && orderId != ''){
		// Acciones
		var actions = [];
		
		//Recuperar pedido
		actions.push({
			"action": "order:orderConfirmation",
			"params": {
				"storeId" : inditex.iStoreId,
				"orderId" :  orderId,
				"languageId": inditex.iLangId,
                "catalogId": inditex.iCatalogId
			}
		});		
		
		inditex.execute({
			"actions": actions,
			"onFinish": function (status, order) {
				if (status == 1) {				
					inditex.trackJetlorePurchaseEvents(order);

					try {
						self._generateAdWordPixel(order);
						self._generateFacebookPixel(order);
					} catch (e) {};

					self.iScope.order = order;										
					
					self._loadShippingAddress();
					self._loadBillingAddress();
					
					self.iScope.$apply();
				} else {			
					inditex.xOpenErrorPopUp(278, 'auto', null, inditex.text('getOrder.error'));
					// ga
                    if (inditex.iUserJSON.isWalletUser) {
    					var msg = order && order.key && order.key != null && order.key != '' ? '/Cesta_Compra/Confirmacion/Compra_Rapida/Error_' + order.key : '/Cesta_Compra/Confirmacion/Compra_Rapida/Error_Occured';
    					inditex.trackPage(msg);
                    } else {
                    	var msg = order && order.key && order.key != null && order.key != '' ? '/Cesta_Compra/Error_' + order.key : '/Cesta_Compra/Error_Occured';
    					inditex.trackPage(msg);
                    }
				}						
			}
		});			
		
		// Recuperamos wallet info
		actions = [];
		
		actions.push({
			"action": "wallet:walletInfo",
			"params": {
				"storeId" : inditex.iStoreId,
				"languageId": inditex.iLangId,
				"orderId" :  orderId
			}
		});
		
		inditex.execute({
			"actions" : actions,
			"onFinish" : function(status, wInfo){
				if (status == 1){							
					self.iScope.wInfo = wInfo;
					self.iScope.$apply();
					
					if (self.iScope.wInfo.securePass) {
						// ga
						inditex.trackPage('/Cesta_Compra/Confirmacion/Compra_Rapida');
					}
					
					if (self.iScope.wInfo.showSaveDialog && !self.iScope.wInfo.securePass && inditex.iUserJSON.userType=='R') {
						// ga
						inditex.trackPage('/Cesta_Compra/Confirmacion/Compra_Rapida/Cambiar_Password');
					}
				} else {
					inditex.xOpenErrorPopUp(278, 'auto');
					// ga
                    if (inditex.iUserJSON.isWalletUser) {
    					var msg = wInfo && wInfo.key && wInfo.key != null && wInfo.key != '' ? '/Cesta_Compra/Confirmacion/Compra_Rapida/Error_' + wInfo.key : '/Cesta_Compra/Confirmacion/Compra_Rapida/Error_Occured';
    					inditex.trackPage(msg);
                    } else {
                    	var msg = wInfo && wInfo.key && wInfo.key != null && wInfo.key != '' ? '/Cesta_Compra/Error_' + wInfo.key : '/Cesta_Compra/Error_Occured';
    					inditex.trackPage(msg);
                    }
				}
				self._checkModalHeight();

			}
		});
		
		if (inditex.iUserJSON.userType=='G') {
			// ga
			inditex.trackPage('/Cesta_Compra/Confirmacion/Compra_Rapida/Registrarse');
		}
		
		self._bindings();
		
	} else {		
		inditex.xOpenErrorPopUp(278, 'auto', null, inditex.text('getOrder.error'));
	}
	
	$(window).resize(function(){
		self._checkModalHeight();
	});
	
};
	
	/*********** itx-core-api-js ************************/
	inditex.xAddProduct = function(listName, item, showMessageConfirmation, aCallback, loadHeadInfoCallback) {
		var isShopCart = listName == 'shopCart';
		
		if (item) {
			if (isShopCart) {
				// Si no tiene precio o es invalido se muestra un error
				if (item.unitPrice == null || item.unitPrice == "0" || item.unitPrice == 0) {
					inditex.xOpenErrorPopUp(350, 'auto', null, inditex.text("product.price.zero"));
					return false;
				} else {
					var actions = [{
						"action": "order:addToCart",
						"params": {
							"storeId": inditex.iStoreId,
							"languageId": inditex.iLangId
						},
						"data":{
							"cartItems" : [ {
								"categoryId" : item.categoryId,
								"categoryType" : item.categoryType,
								"parentId" : item.parentId,
								"productId" : item.productId,
								"name" : item.name,
								"image" : item.image,
								"sku" : item.sku,
								"quantity" : item.quantity,
								"size" : item.size,
								"unitPrice" : item.unitPrice,
								"reference" : item.reference
							} ]
						}
					}];

					inditex.execute({
						"actions": actions,
						"onFinish": function (status) {
							if (status == 1) {
								inditex.trackJetloreShoppingEvents(item, item.quantity);
								// Se actualiza la minicesta si corresponde
								if (angular.element('#miniCartContainer').is(':visible')) {
									angular.element('#header').scope().loadHeadInfo(false, true, loadHeadInfoCallback);
								}else {
									angular.element('#header').scope().loadHeadInfo(false, false, loadHeadInfoCallback);
								}
								
								if (showMessageConfirmation) {
									// Se muestra el mensaje de alerta y se pone el icono de la cesta en verde
									$('#cartAlertSucces').fadeIn();
									$('#cartIco').removeClass('ico-bag-outline');
									$('#cartIco').addClass('ico-bag-solid');
									setTimeout(function() {
										$('#cartAlertSucces').fadeOut();
										setTimeout(function(){
											if (!$('html').hasClass('ie8')) {		
												 $("body").css({'padding-top':$('header').outerHeight()});
												 $(".fixCtrl").css({'transform': 'translateY(' + ($('header').outerHeight() - 85) + 'px)'});
												 inditex.positionMenu(true);
											 }
										}, 500);
									}, inditex.closeTimeout);
								}
								
								if (aCallback) {
									aCallback();
								}
							} else {
								inditex.xOpenErrorPopUp(278, 'auto');
							}
						}
					});
				}
			}
		}
	};

	/**
	 * Actualiza un producto de la mini cesta o a la mini wishList
	 */
	inditex.xUpdateProduct = function(listName, item, aCallback, loadHeadInfoCallback) {
		var isShopCart = listName == 'shopCart';
		
		if (item) {
			if (isShopCart) {
				var actions = [{
					"action": "order:updateCart",
					"params": {
						"storeId": inditex.iStoreId,
						"languageId": inditex.iLangId
					},
					"data":{
						"cartItems" : [ {
							"quantity" : item.quantity,
							"id" : item.id
						} ]
					}
				}];
				var oldQuantity = 0;
				var elementInCart = inditex.iUserJSON.shopCart.items.filter(function(element){return (element.id == item.id) })[0];
				if (elementInCart){
					oldQuantity = elementInCart.quantity;
				}
				inditex.execute({
					"actions": actions,
					"onFinish": function (status) {
						if (status == 1) {
							
							inditex.trackJetloreShoppingEvents(elementInCart, item.quantity - oldQuantity);
							// Se actualiza la minicesta si corresponde
							if (angular.element('#miniCartContainer').is(':visible')) {
								angular.element('#header').scope().loadHeadInfo(false, true, loadHeadInfoCallback);
							}else {
								if (angular.element('#header') && angular.element('#header') != null && angular.element('#header').length > 0) {
									angular.element('#header').scope().loadHeadInfo(false, false, loadHeadInfoCallback);
								}
							}
							
							if (aCallback) {
								aCallback();
							}
						} else {
							inditex.xOpenErrorPopUp(278, 'auto');
						}
					}
				});
			}
		}
	};
	
	/*************** angular-search.js *****************/
	angular.module("itxApp").factory("searchService", ["$http", "$q", "$rootScope", function($http, $q, $rootScope) {
	var baseUrl = "",				       
        isoCode = inditex.iSeoParamMap.langId[inditex.iLangId].toLowerCase(),
        sbApi = null;
	
	return {

        query: null,
        prediction: null,
        currentSearch: null,
        currentFeatured: null,
        selectedFacet: null,
        selectedSubfacet: null,
        skip: 0,
        count: 36,
        isLoading: false,
        isScrolling: false,

        getApi: function() {
            return sbApi;
        },

        featured: function(term, maxitems, scope, options, callback) {
            return sbApi.featuredDocs(term, maxitems, scope, options, callback)
        },

        autocomplete: function(term, maxitems, scope, options, callback) {
            return sbApi.autocompleteJSON(term, maxitems, scope, options, callback)
        },
        
        init : function (){
        	inditex.execute({
        		"actions": [{
        			"action": "oam:xconfiguracion",
        			"params": {
        				"storeId": inditex.iStoreId,
        				"variable" : "URL_SEARCHBROKER_TAGGING",
        				"languageId": inditex.iLangId
        			}
        		},{
                    "action": "oam:xconfiguracion",
                    "params": {
                        "storeId": inditex.iStoreId,
                        "variable" : "URL_SEARCHBROKER_TAGGING_SCRIPT",
                        "languageId": inditex.iLangId
                    }
                }],
        		"onFinish": function (status, sbTag, sbScript) {
        			if (status == 1) {
        				if (sbTag && sbTag.value && sbScript && sbScript.value) {
        					baseUrl = sbTag.value;
                            $.ajax({
                                url: sbScript.value + '/js/tag.js',
                                dataType: "script",
                                cache: true
                            }).done(function(script,textStatus) {
                                sbApi = new SearchBroker(baseUrl, false, false).init();
                            }).fail(function() {
                              	if(typeof console != "undefined") {
                                    console.log("SearchBroker not loaded");
                                }
                            });
        				} else {
                            console.log("SearchBroker not loaded: XCONFIGURACION parameters not defined");
                        }
        			} else {
                        console.log("SearchBroker not loaded. Error trying to get XCONFIGURACION parameteres");
                    }
        		}
        	});
        },

        search: function(term, filters) {
            var url = baseUrl + "/services/search",
                deferred = $q.defer();
			inditex.trackJetloreSearchEvents(term);
            var data = {};
            data.jsonCallback = "JSON_CALLBACK";
            data.q = term;
            data.lang = isoCode;
            data.start = this.skip;
            data.rows = this.count;
            data.store = inditex.iStoreJSON.id;
            data.catalogue = inditex.iCatalogId;
            data.warehouse = inditex.iStoreJSON.ffmcenter;

            if (filters && filters.length > 0) {
                data.filter = filters
            }

            /*baseUrl = "http://sbpullbear.colbenson.com/sb-pullbear/";
             inditex.iStoreJSON.details.imageBaseUrl = "http://static.pullandbear.net/2/photos";
             data.store = 24009400;
             data.catalogue = 20109402;
             data.warehouse = 22109408;*/

            $http({url: url, method: "jsonp", params: data, cache: true }).
                success(function(data, status, headers, config) {
                    deferred.resolve(data);
                    sbApi.trackQuery(term, data.docs.length,1,"desktop",{ lang: isoCode, store: inditex.iStoreJSON.id });
                }).
                error(function(data, status, headers, config) {
                    deferred.reject(data);
                });

            return deferred.promise;
        },

        resetSearch: function() {
            this.query = null;
            this.prediction = null;
            this.currentSearch = null;
            this.selectedFacet = null;
            this.selectedSubfacet = null;
            this.skip = 0;
            $rootScope.$broadcast("customscrollbar:update");
        }
    }

}]);
</script>
<script type="text/javascript">
ItxWorldWidePageClass.prototype._loadBindings = function() {
	var self = this;
	
	//Funciones para fijar la imagen de fondo a la pagina y al resize
	inditex.xFitToBox($('#ixtWorldWidePage div.wwBackground img'),
			$('#ixtWorldWidePage div.wwBackground'), false, true);
	
	//Centrado de capa de seleccion de idioma/pais
	inditex.centerLayer('.wwWrapper');
	self.iScope.mainWrapper = true;

	//En el resize del navegador centramos imagen de fondo y capa de seleccion
	inditex.onResize(function() {
		inditex.xFitToBox($('#ixtWorldWidePage div.wwBackground img'),
				$('#ixtWorldWidePage div.wwBackground'), false, true);
		inditex.centerLayer('.wwWrapper');
	});		
	
	//Obtener url de un pais (para canarias)
	self.iScope.getStoreUrl = function(store) {
		return inditex.encodeStoreUrl(store);
	};	
	
	//Acciones a realizar cuando se cambia de paÃ­s
	self.iScope.selectCountry = function(store) {
		self.iScope.selectedCountry = store.countryName;
		self.iScope.selectedStore = store;
		self.iScope.language = store.supportedLanguages[0];
		self.iScope.languages = store.supportedLanguages;
		self.iScope.storesWrapper = !self.iScope.storesWrapper;	
	};
	
	//Funcion para redirigir a la Home por pais/idioma
	self.iScope.gotoHome = function() {
		var url = inditex.encodeStoreUrl(self.iScope.selectedStore, self.iScope.language.id);
		window.location.href = url;
		
	};
	
	// SI cambian los idiomas refrescamos custom-select
	self.iScope.$watch("languages",function(newValue, oldValue){
		//Creamos un nuevo hilo para que se ejecute el update del select
		// y despuÃ©s poder actualizar el plugin
		self.iTimeOut(function(){
			var elem = angular.element('#languageDiv');
			if (elem.size() > 0){
				$(elem).updateCustomSelect();  
				$('#languageSelectedValue').prepend('<span class="noTextTransform">' + inditex.text('ww.language') + '</span>');
			}
		});	       	        
	}); 
	
	// Incluimos el teto Language antes del nombre del idioma
	self.iScope.$watch("language",function(newValue, oldValue){
		$('#languageSelectedValue').prepend('<span class="noTextTransform">' + inditex.text('ww.language') + '</span>');	
	});
	
	self.iScope.countryClick = function(){
		$('#languageDiv').removeClass('open');
		self.iScope.storesWrapper = !self.iScope.storesWrapper;
	}
	
};
</script><script type="text/javascript">
inditex.onReady(function() {
  if(inditex.iPage=="ItxCheckoutPage") {
    // Actions based on media queries.
    $("input").off("focus blur");
    enquire.register("screen and (min-width:128px) and (max-width:768px)", {
      match : function() {
        $('input').focus(function(){
          if($('.container-fluid').css('display') === 'block'){
            $('.container-fluid').slideToggle();
            $('.shopCart-summary').slideToggle();
          }
        });
        $('input').blur(function(){
          setTimeout(function() {
            if($('.container-fluid').css('display') !== 'block' && !$('input').is(':focus')){
              $('.container-fluid').slideToggle();
              $('.shopCart-summary').slideToggle();
            }
          }, 200);
        });
      }
    });
  }
});
</script>
<script type="text/javascript">
inditex.onReady(function() {
  var old=inditex.goToShopCart;
  inditex.goToShopCart=function() {
    var $header=$("header");
    console.log($header,inditex.iPage);
    if($header.length && inditex.iPage!="ItxCheckoutPage") {
      console.log("controller",$header.controller());
      $header.controller()._loadHeadInfo(false,true,function() {
        old.apply(inditex,arguments);
      });
    } else 
      old.apply(inditex,arguments);
  }
});
</script>
<!-- END SPOT=BK3_ESpot_Inditex -->

<link rel="stylesheet" type="text/css" href="https://static.bershka.net/4/static/itxwebstandard/css/itx-custom-main.min.css?t=20150923042500" />

<!-- BEGIN SPOT=BK3_ESpot_HeadEnd -->

<!-- END SPOT=BK3_ESpot_HeadEnd -->

<!-- END post-common head -->
	</head>
	<body data-ng-controller="ItxWorldWidePageCtrl">
<!-- BEGIN SPOT=BK3_ESpot_BodyBegin -->
<script type="text/javascript">


/*****************************************************************************************/
/*****************************************************************************************/
/*****************************************************************************************/
/*****************************************************************************************/
/*****************************************************************************************/
// ITXBERSHKA UTILITIES CLASS

// ItxBershkaUtilitiesClass VersiÃ³n 4.14
function ItxBershkaUtilitiesClass() {
    var self = this;

    //self._init(options);
    self._init();
}

/*********************************************************************************************************************/
/* JSON INTERNO DE REFERENCIA DE LANGUAGES DE LA FRONT STORE */

ItxBershkaUtilitiesClass.prototype._common_languages = {
    "languages":[
        {"language": "CA"},
        {"language": "DE"},
        {"language": "EL"},
        {"language": "EN"},
        {"language": "ES"},
        {"language": "EU"},
        {"language": "FR"},
        {"language": "GL"},
        {"language": "IT"},
        {"language": "NL"},
        {"language": "PL"},
        {"language": "PT"},
        {"language": "RO"},
        {"language": "RU"},
        {"language": "ZH"}
    ]
}

ItxBershkaUtilitiesClass.prototype._common_languages_commerce = {
    "languages":[
        {
            "language": "CA",
            "country_example": "ES"
        },
        {
            "language": "DE",
            "country_example": "DE"
        },
        {
            "language": "EL",
            "country_example": "GR"
        },
        {
            "language": "EN",
            "country_example": "ES"
        },
        {
            "language": "ES",
            "country_example": "ES"
        },
        {
            "language": "EU",
            "country_example": "ES"
        },
        {
            "language": "FR",
            "country_example": "FR"
        },
        {
            "language": "GL",
            "country_example": "ES"
        },
        {
            "language": "IT",
            "country_example": "IT"
        },
        {
            "language": "NL",
            "country_example": "NL"
        },
        {
            "language": "PL",
            "country_example": "PL"
        },
        {
            "language": "PT",
            "country_example": "PT"
        },
        {
            "language": "RO",
            "country_example": "RO"
        },
        {
            "language": "RU",
            "country_example": "RU"
        },
        {
            "language": "ZH",
            "country_example": "CN"         
        }
    ]
}


ItxBershkaUtilitiesClass.prototype._common_languages_no_commerce = {
    "languages":[
        {
            "language": "CA",
            "country_example": "AD"
        },
        {
            "language": "DE",
            "country_example": "HU"
        },
        {
            "language": "EN",
            "country_example": "AD"
        },
        {
            "language": "ES",
            "country_example": "AD"
        },
        {
            "language": "FR",
            "country_example": "AD"
        }
    ]
}

/*********************************************************************************************************************/
/* JSON INTERNO DE REFERENCIA DE COUNTRIES */

ItxBershkaUtilitiesClass.prototype._countries_commerce = {
    "countries": [
    /*---------------------------------------------------------------------------------------------------------------*/
    /*PAÃSES COMMERCE*/

    {
        "country": "MX",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "ES"},{"language": "EN"}]
    },
    {
        "country": "RU",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "RU"}]
    },
    {
        "country": "CN",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "CN"}]
    },
    {
        "country": "ES",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "ES"},{"language": "EN"},{"language": "EU"},{"language": "CA"},{"language": "GL"}]
    },
    {
        "country": "IC",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "ES"},{"language": "EN"}]
    },
    {
        "country": "AT",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "DE"}]
    },
    {
        "country": "CH",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "DE"},{"language": "FR"},{"language": "IT"}]
    },
    {
        "country": "BE",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "NL"},{"language": "FR"}]
    },
    {
        "country": "GR",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "EN"},{"language": "EL"}]
    },
    {
        "country": "FR",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "FR"}]
    },
    {
        "country": "NL",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "NL"}]
    },
    {
        "country": "PT",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "EN"},{"language": "PT"}]
    },
    {
        "country": "GB",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "IE",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "RO",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "EN"},{"language": "RO"}]
    },
    {
        "country": "PL",
        "commerce": true,
        "woman": false,
        "languages":[{"language": "EN"},{"language": "PL"}]
    },
    {
        "country": "DE",
        "commerce": true,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "DE"}]
    },
    {
        "country": "IT",
        "commerce": true,
        "woman": true,
        "languages": [{"language": "IT"},{"language": "EN"}]
    }
    ]
};


ItxBershkaUtilitiesClass.prototype._countries_no_commerce = {
    "countries": [

    /*---------------------------------------------------------------------------------------------------------------*/
    /*PAÃSES NO COMMERCE*/
    {
        "country": "AD",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"},{"language": "FR"},{"language": "CA"}]
    },
    {
        "country": "HU",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "DE"}]
    },
    {
        "country": "JP",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "KZ",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "KR",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "ID",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "HR",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "GT",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "SI",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "EE",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "HK",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "CZ",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "CY",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "AE",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "AM",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "BA",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "EC",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"}]
    },
    {
        "country": "MY",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "PH",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "CR",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "GE",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "VE",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"}]
    },
    {
        "country": "UA",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "SG",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "PA",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"}]
    },
    {
        "country": "HN",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"}]
    },
    {
        "country": "TR",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "SA",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "SK",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "SV",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "ME",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "QA",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "BH",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "JO",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "MA",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"},{"language": "FR"}]
    },
    {
        "country": "TN",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "MT",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "RS",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "MK",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "AZ",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "MO",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "LT",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "LV",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "BG",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "LB",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "FR"}]
    },
    {
        "country": "DO",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "TH",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "EG",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "FR"}]
    },
    {
        "country": "CO",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "ES"}]
    },
    {
        "country": "IL",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "KW",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"}]
    },
    {
        "country": "DZ",
        "commerce": false,
        "woman": true,
        "languages":[{"language": "EN"},{"language": "FR"}]
    } 

    ]
};

/* END - JSON INTERNO DE REFERENCIA DE COUNTRIES */
/*********************************************************************************************************************/




/*********************************************************************************************************************/
/* JSONS INTERNO DE REFERENCIA DE CATEGORÃAS PRINCIPALES */

ItxBershkaUtilitiesClass.prototype._categories_languages = {
    "languages": {
        "DE": {
            "new": "New",
            "bershka": "Woman",
            "chico": "Man",
            "bsk": "Girl",
            "accesorios": "Accessoires",
            "zapatos": "Schuhe",
            "campana": "Kampagne",
            "lookbook": "Lookbook"
        },
        "CA": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "Noi",
            "bsk": "BSK",
            "accesorios": "Accessoris",
            "zapatos": "Sabates",
            "campana": "Campanya",
            "lookbook": "Lookbook"
        },
        "ZH": {
            "new": "æ°å",
            "bershka": "å¥³è£",
            "chico": "ç·è£",
            "bsk": "å°å¥³è£",
            "accesorios": "éé¥°",
            "zapatos": "éç±»",
            "campana": "å¤§ç",
            "lookbook": "äº§åæå"
        },
        "ES": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "Chico",
            "bsk": "BSK",
            "accesorios": "Accesorios",
            "zapatos": "Zapatos",
            "campana": "CampaÃ±a",
            "lookbook": "Lookbook"
        },
        "FR": {
            "new": "New",
            "bershka": "Woman",
            "chico": "Man",
            "bsk": "Girl",
            "accesorios": "Accessoires",
            "zapatos": "Chaussures",
            "campana": "Campagne",
            "lookbook": "Lookbook"
        },
        "GL": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "Mozo",
            "bsk": "BSK",
            "accesorios": "Accesorios",
            "zapatos": "Zapatos",
            "campana": "CampaÃ±a",
            "lookbook": "Lookbook"
        },
        "EL": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "ÎÎ½Î´ÏÎ±Ï",
            "bsk": "BSK",
            "accesorios": "ÎÎ¾ÎµÏÎ¿ÏÎ¬Ï",
            "zapatos": "Î¥ÏÎ¿Î´Î®Î¼Î±ÏÎ±",
            "campana": "ÎÎ±Î¼ÏÎ¬Î½Î¹Î±",
            "lookbook": "Lookbook"
        },
        "NL": {
            "new": "New",
            "bershka": "Dames",
            "chico": "Jongens",
            "bsk": "Meisjes",
            "accesorios": "Accessoires",
            "zapatos": "Schoenen",
            "campana": "Campagne",
            "lookbook": "Lookbook"
        },
        "EN": {
            "new": "New",
            "bershka": "Woman",
            "chico": "Man",
            "bsk": "Girl",
            "accesorios": "Accessories",
            "zapatos": "Shoes",
            "campana": "Campaign",
            "lookbook": "Lookbook"
        },
        "IT": {
            "new": "New",
            "bershka": "Woman",
            "chico": "Man",
            "bsk": "Girl",
            "accesorios": "Accessori",
            "zapatos": "Scarpe",
            "campana": "Stagione",
            "lookbook": "Lookbook"
        },
        "PL": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "Boy",
            "bsk": "BSK",
            "accesorios": "Akcesoria",
            "zapatos": "Buty",
            "campana": "Kampania",
            "lookbook": "Lookbook"
        },
        "PT": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "Homem",
            "bsk": "BSK",
            "accesorios": "AcessÃ³rios",
            "zapatos": "CalÃ§ados",
            "campana": "Campanha",
            "lookbook": "Lookbook"
        },
        "RO": {
            "new": "Nou",
            "bershka": "Bershka",
            "chico": "BÄieÈi",
            "bsk": "BSK",
            "accesorios": "Accesorii",
            "zapatos": "Pantofi",
            "campana": "Campanie",
            "lookbook": "Lookbook"
        },
        "RU": {
            "new": "ÐÐ¾Ð²Ð¸Ð½ÐºÐ¸",
            "bershka": "ÐÐµÐ½ÑÐºÐ°Ñ",
            "chico": "ÐÑÐ¶ÑÐºÐ°Ñ",
            "bsk": "ÐÐ»Ñ Ð´ÐµÐ²ÑÑÐµÐº",
            "accesorios": "ÐÐºÑÐµÑÑÑÐ°ÑÑ",
            "zapatos": "ÐÐÐ£ÐÐ¬",
            "campana": "ÐÐ¼Ð¸Ð´Ð¶ÐµÐ²Ð°Ñ ÐºÐ°Ð¼Ð¿Ð°Ð½Ð¸Ñ",
            "lookbook": "ÐÑÐºÐ±ÑÐº"
        },
        "EU": {
            "new": "New",
            "bershka": "Bershka",
            "chico": "Mutila",
            "bsk": "BSK",
            "accesorios": "Osagarriak",
            "zapatos": "Oinetakoak",
            "campana": "Kanpaina",
            "lookbook": "Lookbook"
        }
    }
}

/* END - JSONS INTERNO DE REFERENCIA DE CATEGORÃAS PRINCIPALES */
/*********************************************************************************************************************/



/*********************************************************************************************************************/
/* FUNCIONES PRIVADAS */

ItxBershkaUtilitiesClass.prototype.options = {
    "instanciaInditex": null,
    "entorno": null,
    "consoleLogs": false
};

// Array de funciones
ItxBershkaUtilitiesClass.prototype._callbacks = []

// FunciÃ³n para aÃ±adir una funciÃ³n callback
ItxBershkaUtilitiesClass.prototype.add_callback = function(a_callback){
    var self = this;

    self._callbacks.push({"executed": false, "a_callaback": a_callback});

    // Probamos a ejecutar el array de callbacks
    self._execute_callbacks();

}

ItxBershkaUtilitiesClass.prototype._execute_callbacks = function(){
    var self = this;

    // Los callbacks solamente se van a ejecutar en caso de que se haya inicializado correctamente la clase
    if (self._state_initialized == true) {
        for (i = 0; i < self._callbacks.length; i++) {
            
            // Comprobamos si estÃ¡ funciÃ³n se ha ejecutado ya:
            if (self._callbacks[i].executed == true) {

            }
            // Si todavÃ­a no se ha ejecutado
            else {
                // La ejecutamos
                self._callbacks[i].a_callaback();       

                // y la marcamos como ejecutada
                self._callbacks[i].executed = true;     
            }

        }
    }

    
}

// Variable de control del estado de la biblioteca
ItxBershkaUtilitiesClass.prototype._state_initialized = false;

// MÃ©todo encargado de inicializar la instancia
ItxBershkaUtilitiesClass.prototype._init = function(){
    var self = this;

    // Esperamos a que jquery haga el document ready
    jQuery( document ).ready(function() {
        self._check_inditex();
    });

};


ItxBershkaUtilitiesClass.prototype._check_inditex = function() {
    var self = this;

    if (typeof inditex !== 'undefined' || typeof Inditex !== 'undefined') {

        // ConfiguraciÃ³n Standard
        if (typeof inditex !== 'undefined') {
            //console.log("estamos en standard");

            self.options.instanciaInditex = inditex;
            self.options.entorno = "Standard";

        }
        // ConfiguraciÃ³n Mobile
        else if (typeof Inditex !== 'undefined') {
            //console.log("estamos en mobile");

            self.options.instanciaInditex = Inditex;
            self.options.entorno = "Mobile";
        }

        // Cuando por fin tenemos la instancia de inditex lista comprobamos las demÃ¡s cosas que han de estar preparadas
        if (self.options.instanciaInditex != null) {

            if (
                !!self.options.instanciaInditex.iStoreJSON &&
                !!self.options.instanciaInditex.iLangId &&
                !!self.options.instanciaInditex.iStoreId &&
                !!self.options.instanciaInditex.iCatalogId
                //!!self.options.instanciaInditex.iDomainName &&
                //!!self.options.instanciaInditex.iProxyHostStandard
            ) {
                    // Marcamos la clase como inicializada
                    self._state_initialized = true;

                    //Ejecutamos todas las funciones de callback:
                    self._execute_callbacks();

                    self._console("instanciaInditex = " + self.options.instanciaInditex);
                    self._console(self.options.instanciaInditex);
                    self._console("entorno = " + self.options.entorno);
            }
            // Si todavÃ­a falta algÃºn elemento entonces dejamos un tiemout
            else {
                setTimeout(
                    function(){ 
                        self._init(); 
                    }, 
                    1000
                );
            }
        }   
        
    


    } 
    else {

        setTimeout(
            function(){ 
                self._init(); 
            }, 
            1000
        );

    }
}

ItxBershkaUtilitiesClass.prototype._console = function(string){
    var self = this;

    if (self.options.consoleLogs) {
        console.log(string);
    }

};

ItxBershkaUtilitiesClass.prototype._console_color = function(string, color){
    var self = this;

    if (self.options.consoleLogs) {
        console.log("%c" + string, "color:" + color + ";font-weight:bold;");
    }

};

ItxBershkaUtilitiesClass.prototype._console_bold = function(string){
    var self = this;

    if (self.options.consoleLogs) {
        console.log("%c" + string, "color:black;font-weight:bold;");
    }

};

ItxBershkaUtilitiesClass.prototype._console_error = function(string){
    var self = this;

    if (self.options.consoleLogs) {
        console.log("%c" + string, "color: red;font-weight:bold;");
    }

};

ItxBershkaUtilitiesClass.prototype._console_title_1 = function(string){
    var self = this;

    if (self.options.consoleLogs) {
        console.log("%c" + string, "color: black;font-weight:bold;font-size:30px;");
    }

};

ItxBershkaUtilitiesClass.prototype._console_title_2 = function(string){
    var self = this;

    if (self.options.consoleLogs) {
        console.log("%c" + string, "color: black;font-weight:bold;font-size:20px;");
    }

};

ItxBershkaUtilitiesClass.prototype._console_title_3 = function(string){
    var self = this;

    if (self.options.consoleLogs) {
        console.log("%c" + string, "color: black;font-weight:bold;font-size:15px;");
    }

};

ItxBershkaUtilitiesClass.prototype._console_table = function(object){
    var self = this;

    if (self.options.consoleLogs) {
        console.table(object);
    }

};

// FunciÃ³n encargada de buscar el paÃ­s de la Store actual
ItxBershkaUtilitiesClass.prototype._searchCountryStore = function () {
    var self = this; 

    var varCountryCode = self.options.instanciaInditex.iStoreJSON.countryCode.toUpperCase();

    return varCountryCode;
}

// FunciÃ³n encargada de buscar el idioma de la Store actual
ItxBershkaUtilitiesClass.prototype._searchCountryLanguage = function () {
    var self = this; 

    var varCountryLanguage;

    // Buscamos el language de la store actual
    var country_lang_id = self.options.instanciaInditex.iLangId;
    var numLanguages = self.options.instanciaInditex.iStoreJSON.supportedLanguages.length;

    for (var i = numLanguages - 1; i >= 0; i--) {
        if(self.options.instanciaInditex.iStoreJSON.supportedLanguages[i].id == country_lang_id){
            varCountryLanguage = self.options.instanciaInditex.iStoreJSON.supportedLanguages[i].code.toUpperCase();
        }
    }

    return varCountryLanguage;
}

// FunciÃ³n encargada de buscar las caracterÃ­sticas de un paÃ­s en el json interno de referencia
ItxBershkaUtilitiesClass.prototype._searchCountryInJson = function (countryCode) {
    var self = this; 

    var current_countrie = null;

    // Buscamos el paÃ­s actual en el json interno de paÃ­ses commerce
    for (var j=0; j < self._countries_commerce.countries.length; j++ ) { 
        if (countryCode == self._countries_commerce.countries[j].country) {

            current_countrie = self._countries_commerce.countries[j];

            break;
        }
    }

    // si no estÃ¡ en los paÃ­ses commerce lo buscamos en los no commerce
    if (current_countrie == null) {
        for (var j=0; j < self._countries_no_commerce.countries.length; j++ ) { 
            if (countryCode == self._countries_no_commerce.countries[j].country) {

                current_countrie = self._countries_no_commerce.countries[j];

                break;
            }
        }
    }

    return current_countrie;
}

// FunciÃ³n encargada de buscar el ID de la Store actual
ItxBershkaUtilitiesClass.prototype._searchStoreId = function () {
    var self = this; 

    var storeID;

    storeID = self.options.instanciaInditex.iStoreId;

    return storeID;

}

// FunciÃ³n encargada de buscar el ID del CatÃ¡logo actual de la Store
ItxBershkaUtilitiesClass.prototype._searchCatalogId = function () {
    var self = this; 

    var catalogID;

    catalogID = self.options.instanciaInditex.iCatalogId;

    return catalogID;

}

// FunciÃ³n encargada de buscar el dominio root
ItxBershkaUtilitiesClass.prototype._searchDomain = function () {
    var self = this; 

    var domainComplete;

    var protocolo = location.protocol + "//";

    var dominio;

    // Para la web de mobile
    if (self.options.entorno == "Mobile") {
        dominio = self.options.instanciaInditex.iDomainName + "/m";
    }
    // Para la nueva web de standard
    else {
        dominio = self.options.instanciaInditex.iProxyHostStandard;
    }       

    domainComplete = protocolo + dominio;

    return domainComplete;

}


ItxBershkaUtilitiesClass.prototype._generateFileName = function(campaing_url, base_name, extension, code){
    var self = this;
    
    // variable con la url completa a devolver al final del mÃ©todo
    var url;

    // url del servidor de static
    var static_url = self.options.instanciaInditex.iStoreJSON.details.staticUrl;

    if (location.protocol == "https:") {
        static_url.replace("http:", "https:");
    } else {
        static_url.replace("https:", "http:");
    }

    // ruta del archivo
    var file_name = campaing_url + base_name;
    
    // aÃ±adimos la excepciÃ³n por paÃ­s e idioma
    if (code != null) {
        file_name = file_name + code;     
    } 

    // aÃ±adimos la extensiÃ³n
    file_name = file_name + "." + extension; 

    // timestamp
    var timestamp = "?" + self.options.instanciaInditex.iStoreJSON.details.timestampBuildVersion;

    url = static_url + file_name + timestamp;

    return url;
};


// FunciÃ³n encargada de generar la url de una categorÃ­a
ItxBershkaUtilitiesClass.prototype._getLinkCategory = function (categoryId, countryId, langId) {
    var self = this; 

    var urlCategory

    var dominio = self._searchDomain();

    var country =  "/" + countryId.toLowerCase();
    var language = "/" +  langId.toLowerCase();
    var category = "/" + "c" + categoryId;
    var extension = ".html";

    urlCategory = dominio + country + language + category + extension;
    
    return(urlCategory);

}


// FunciÃ³n encargada de generar la url de un producto
ItxBershkaUtilitiesClass.prototype._getLinkProduct = function (productId, countryId, langId) {
    var self = this; 

    var urlProduct;

    var dominio = self._searchDomain();

    var country =  "/" + countryId.toLowerCase();
    var language = "/" +  langId.toLowerCase();
    var category = "/" + "c" + 0;
    var product = "p" + productId;
    var extension = ".html";

    urlProduct = dominio + country + language + category + product + extension;

    return(urlProduct);

}

// FunciÃ³n encargada de generar la url de un producto con color
ItxBershkaUtilitiesClass.prototype._getLinkProductColor = function (productId, countryId, langId, colorId) {
    var self = this; 

    var urlProduct;

    var dominio = self._searchDomain();

    var country =  "/" + countryId.toLowerCase();
    var language = "/" +  langId.toLowerCase();
    var category = "/" + "c" + 0;
    var product = "p" + productId;
    
    var extension = ".html";
    var color = "?colorId=" + colorId;

    urlProduct = dominio + country + language + category + product + extension + color ;

    return(urlProduct);

}

// FunciÃ³n encargada de determinar si la Store actual usa Woman o Berhska
ItxBershkaUtilitiesClass.prototype._searchWoman = function () {
    var self = this; 

    var varCountryCode = self._searchCountryStore();

    var current_countrie = self._searchCountryInJson(varCountryCode);

    return current_countrie.woman;

}

/* END - FUNCIONES PRIVADAS */
/*********************************************************************************************************************/



/*********************************************************************************************************************/
/* FUNCIONES PÃBLICAS */

// FunciÃ³n encargada de imprimir por consola las opciones de la librerÃ­a
ItxBershkaUtilitiesClass.prototype.print_library_options = function(){
    var self = this;

    self._console("**************************************************************");
    self._console_title_1("ItxBershkaUtilitiesClass.options: ");
    self._console("instanciaInditex: ");
    self._console(self.options.instanciaInditex);
    self._console("entorno: " + self.options.entorno);
    self._console("consoleLogs: " + self.options.consoleLogs);
    self._console("**************************************************************");

};

// FunciÃ³n encargada de imprimir por consola las caracterÃ­sticas de la store actual
ItxBershkaUtilitiesClass.prototype.print_store_options = function(){
    var self = this;

    self._console("**************************************************************");


    self._console_title_1("CaracterÃ­sticas de la store actual: ");
    self._console("PaÃ­s actual: " + self._searchCountryStore());
    self._console("Id de la Store actual: " + self._searchStoreId());
    self._console("Id de CatÃ¡logo actual: " + self._searchCatalogId());
    self._console("Idioma actual: " + self._searchCountryLanguage());
        var store = self._searchCountryInJson(self._searchCountryStore());
        self._console("El paÃ­s actual es commerce: " + store.commerce);
        self._console("El paÃ­s actual usa la categorÃ­a Woman en lugar de la categorÃ­a Bershka: " + self._searchWoman());
        self._console("El paÃ­s actual tiene los siguientes idiomas: ");
            for (var l=0; l < store.languages.length; l++ ) {
                self._console(" Idioma nÃºmero: " + l + " = " + store.languages[l].language ); 
            } 

    
    self._console("**************************************************************");

};

// FunciÃ³n encargada de buscar el nombre de una categorÃ­a de nivel 1
ItxBershkaUtilitiesClass.prototype.getCategoryName = function (code) {
    var self = this; 

    var categoryName = "";

    var varCountryCode = self._searchCountryStore();
    var varLangId = self._searchCountryLanguage();

    var categoryJsonCode;

    switch (code) {
        case 1:
        categoryJsonCode = "new";
        break;
        
        case 2:
        categoryJsonCode = "bershka";
        break;    
        
        case 3:
        categoryJsonCode = "chico";
        break;
        
        case 4:
        categoryJsonCode = "bsk";
        break;
        
        case 5:
        categoryJsonCode = "accesorios";
        break;
        
        case 6:
        categoryJsonCode = "zapatos";
        break;

        case 7:
        categoryJsonCode = "campana";
        break;

        case 8:
        categoryJsonCode = "lookbook";
        break;
        
        default:

        break;
      }
      categoryName = self._categories_languages.languages[varLangId][categoryJsonCode];
      
      return categoryName;

}

// Inicializamos la biblioteca de utilities:
window.ItxBershkaUtilities = new ItxBershkaUtilitiesClass();



/*****************************************************************************************/
/*****************************************************************************************/
/*****************************************************************************************/
/*****************************************************************************************/
/*****************************************************************************************/
// ITX BERSHKA CAMPAING CLASS


//function ItxBershkaCampaingClass(options) {
function ItxBershkaCampaingClass(utilities, json) {
    var self = this;

    //self._init(options);
    self._init(utilities, json);
}

// Atributo que apunta a la instancia con la librerÃ­a de utilidades
ItxBershkaCampaingClass.prototype._utilities = null;

// Atributo que apunta al json que nos han de pasar con la configuracion
ItxBershkaCampaingClass.prototype._json = null;

// Atributo donde se guarda la configuraciÃ³n de la campaÃ±a para la store y paÃ­s actual
ItxBershkaCampaingClass.prototype._current_content_processed = null;

// FunciÃ³n encargada de inicializar la clase
ItxBershkaCampaingClass.prototype._init = function(utilities, json){
    var self = this;

    // Guardamos los objetos recibidos
    self._utilities = utilities;
    self._json = json;

    // Pedimos la configuraciÃ³n del paÃ­s en el que estamos
    self._get_current_content_processed();
}





/*******************************************************************************************************************************/
// FUNCIONES PARA MANIPULAR EL CONTENIDO

// FunciÃ³n encargada de generar el contenido para el paÃ­s y lengua de la store actual
ItxBershkaCampaingClass.prototype._get_current_content_processed = function() { 
    var self = this;

    var country = self._utilities._searchCountryStore();

    var language = self._utilities._searchCountryLanguage();

    self._current_content_processed = self.search_content(country, language, "  ", false);

}

// FunciÃ³n encargada de obtener el contenido de un language concreto dentro de un Ã¡rbol de contenidos
ItxBershkaCampaingClass.prototype._get_contents_language = function(contents, language, indent) { 
    var self = this;

    if (indent == null) {
        indent = "";
    }

    var the_content = null;

    // Sin excepciones de language
    if (contents.allow_language_exceptions == false) {
        the_content = contents.standard

        // En caso de que falten los contenidos standard avisamos por consola.
        if (the_content == null) {
            self._utilities._console_error(indent + "ATENCIÃN: ESTOS CONTENIDOS CARECEN DEL CONTENIDO STANDARD");
        }   
    } 
    // Con excepciones de language
    else {

        // Hacemos un bucle para recorrer todos los idiomas de estos contenidos
        for (var i=0; i < contents.languages.length; i++ ) {
            if (contents.languages[i].language == language) {

                the_content = contents.languages[i].a_content;

                // Paramos el bucle que recorre todos los idiomas del array
                break;                              
            } else {
                //self._utilities._console("El bucle no ha llegado aÃºn al idioma actual. Seguimos buscando.");
            }       
        }

        // En caso de que falten los contenidos de idioma avisamos por consola.
        if (the_content == null) {
            self._utilities._console_error(indent + "ATENCIÃN: ESTOS CONTENIDOS CARECEN DEL IDIOMA: " + language);
            self._utilities._console_error(indent + "En su lugar se utilizarÃ¡ el contenido standard.");

            the_content = contents.standard
        }       

    }

    return the_content;

}




/*******************************************************************************************************************************/
// FUNCIONES PRIVADAS PARA OBTENER CONFIGURACIONES Y ÃRBOLES DE CONTENTS DEL JSON


// FunciÃ³n encargada de determinar si una campaÃ±a estÃ¡ activa o no
ItxBershkaCampaingClass.prototype._get_active = function(current_countrie){
    var self = this;

    var result = {
        "active": false,
        "active_level_decision": "", // "general" "country_kind"  "country"
        "language_exceptions": false,
        "language_level": "" // "general" "country_kind"  "country"
    };

    // Buscamos la configuraciÃ³n general para los contenidos
    var general_conf = self._get_general_configuration();

    // Buscamos la configuraciÃ³n de este tipo de country en el json de configuraciÃ³n
    var country_kind_conf = self._get_country_kind_configuration(current_countrie.commerce);

    // Buscamos la configuraciÃ³n de este country concreto en el json de configuraciÃ³n
    var country_conf = self._get_country_configuration(current_countrie.commerce, current_countrie.country);

    // ConfiguraciÃ³n general
    // Comprobamos si la configuraciÃ³n general estÃ¡ desactivada
    if (general_conf.active == false) {

        result.active = general_conf.active;
        result.active_level_decision = "general";
        result.language_exceptions = false;
        result.language_level = "";
    }
    // Si la configuraciÃ³n general estÃ¡ activada
    else  {
        result.active = general_conf.active;
        result.active_level_decision = "general";
        result.language_exceptions = general_conf.language_exceptions;
        result.language_level = "general";
    }

    // ConfiguraciÃ³n country kind
    if (general_conf.allow_exceptions) {

        // Comprobamos si la configuraciÃ³n del country kind estÃ¡ desactivada
        if (country_kind_conf.active == false) {
            result.active = country_kind_conf.active;
            result.active_level_decision = "country_kind";
            result.language_exceptions = false;
            result.language_level = "";
        }
        // Si la configuraciÃ³n del country kind estÃ¡ activada
        else {
            result.active = country_kind_conf.active;
            result.active_level_decision = "country_kind";
            result.language_exceptions = country_kind_conf.language_exceptions;
            result.language_level = "country_kind";
        }

    }

    // ConfiguraciÃ³n country
    if (general_conf.allow_exceptions && country_kind_conf.allow_exceptions && country_conf.country_configuration_exist) {

        // Comprobamos si la configuraciÃ³n country estÃ¡ desactivada 
        if (country_conf.active == false) {
            result.active = country_conf.active;
            result.active_level_decision = "country";
            result.language_exceptions = false;
            result.language_level = "";
        }
        // Si la configuraciÃ³n country estÃ¡ activada 
        else  {
            result.active = country_conf.active;
            result.active_level_decision = "country";
            result.language_exceptions = country_conf.language_exceptions;
            result.language_level = "country";
        }

    }   

    return result;
}

// FunciÃ³n encargada de obtener un arbol de contenidos 
ItxBershkaCampaingClass.prototype._get_contents = function(result_get_active, current_countrie) { 
    var self = this;

    var contents;

    switch (result_get_active.language_level) {
        case "general":
            contents = self._get_general_contents();            
            break;

        case "country_kind":
            contents = self._get_country_kind_contents(current_countrie.commerce);
            break;

        case "country":
            contents = self._get_country_contents(current_countrie.commerce, current_countrie.country);
            break;

        default:
            contents = self._get_general_contents();
            break; 
    }

    return contents;
}

// FunciÃ³n encargada de obtener la configuraciÃ³n general del json
ItxBershkaCampaingClass.prototype._get_general_configuration = function(){
    var self = this;

    var configuration = {
        "active": null,
        "allow_exceptions": null,
        "language_exceptions": null
    }

    configuration.active = self._json.general.active;
    configuration.allow_exceptions = self._json.general.country_kind.allow_country_kind_exceptions;
    configuration.language_exceptions = self._json.general.contents.allow_language_exceptions;

    return configuration;

}

// FunciÃ³n encargada de obtener los contenidos generales del json
ItxBershkaCampaingClass.prototype._get_general_contents = function(){
    var self = this;

    var contents = null;

    if (self._json.general.contents != null) {
        contents = self._json.general.contents;
    }

    return contents;

}

// FunciÃ³n encargada de obtener la configuraciÃ³n de un  country kind del json
ItxBershkaCampaingClass.prototype._get_country_kind_configuration = function(commerce){
    var self = this;

    var configuration = {
        "active": null,
        "allow_exceptions": null,
        "language_exceptions": null
    }

    var country_kind;

    if (commerce == true) {
        country_kind = self._json.general.country_kind.commerce;
    } else {
        country_kind = self._json.general.country_kind.no_commerce;
    }

    configuration.active = country_kind.active;
    configuration.allow_exceptions = country_kind.countries.allow_country_exceptions;
    configuration.language_exceptions = country_kind.contents.allow_language_exceptions;    

    return configuration;
}

// funciÃ³n encargada de obtener los contenidos de un country kind del json
ItxBershkaCampaingClass.prototype._get_country_kind_contents = function(commerce) {
    var self = this;

    var contents = null;

    if (commerce == true) {
        
        if (self._json.general.country_kind.commerce.contents != null) {
            contents = self._json.general.country_kind.commerce.contents;
        }
    } else {
        
        if (self._json.general.country_kind.no_commerce.contents != null) {
            contents = self._json.general.country_kind.no_commerce.contents;    
        }
    }   

    return contents;

}

// FunciÃ³n encargada de obtener la configuraciÃ³n de un country concreto
ItxBershkaCampaingClass.prototype._get_country_configuration = function(commerce, country){
    var self = this;

    var configuration = {
        "country_configuration_exist": false,
        "active": null,
        //"allow_exceptions": null,
        "language_exceptions": null
    }

    var father;
    if (commerce == true) {
        father = self._json.general.country_kind.commerce;
    } else {
        father = self._json.general.country_kind.no_commerce;
    }

    // Recorremos los paÃ­ses del padre para ver si encontramos el paÃ­s solicitado
    for (var i=0; i < father.countries.countries.length; i++) {

        if (father.countries.countries[i].country == country) {

            configuration.country_configuration_exist = true;
            configuration.active = father.countries.countries[i].active;
            //configuration.allow_exceptions = father.countries.countries[i].contents.allow_language_exceptions;
            configuration.language_exceptions = father.countries.countries[i].contents.allow_language_exceptions;               

            // Paramos el bucle que recorre todos los paÃ­ses del array
            break;                              
        } else {
            //self._utilities._console("El bucle no ha llegado aÃºn al paÃ­s actual. Seguimos buscando.");
        } 

    }

    return configuration;
}

// FunciÃ³n encargada de obtener los contenidos de un country concreto
ItxBershkaCampaingClass.prototype._get_country_contents = function(commerce, country) {
    var self = this;

    var contents = null;

    var father;
    if (commerce == true) {
        father = self._json.general.country_kind.commerce;
    } else {
        father = self._json.general.country_kind.no_commerce;
    }

    // Recorremos los paÃ­ses del padre para ver si encontramos el paÃ­s solicitado
    for (var i=0; i < father.countries.countries.length; i++) {

        if (father.countries.countries[i].country == country) {

            contents = father.countries.countries[i].contents;

            // Paramos el bucle que recorre todos los paÃ­ses del array
            break;                              
        } else {
            //self._utilities._console("El bucle no ha llegado aÃºn al paÃ­s actual. Seguimos buscando.");
        } 

    }

    return contents;

}


/*******************************************************************************************************************************/
// FUNCIONES PARA IMPRIMIR POR CONSOLA LA CONFIGURACIÃN DE LA CAMPAÃA

ItxBershkaCampaingClass.prototype.print_country_language_content_processed = function(country, language){
    var self = this;

    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");
    self._utilities._console_title_1("CONTENIDOS PARA EL PAÃS: " + country + " EN EL IDIOMA: " + language);

    var contents = self.search_content(country, language, "  ", false);

    self.print_content_processed(contents);

}

ItxBershkaCampaingClass.prototype.print_current_content_processed = function(){
    var self = this;

    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");
    self._utilities._console_title_1("CONTENIDOS PARA EL PAÃS ACTUAL: ");   

    self.print_content_processed(self._current_content_processed);

}

ItxBershkaCampaingClass.prototype.print_content_processed = function(content_processed){
    var self = this;

    self._utilities._console(content_processed);

    self._utilities._console_bold("country: ");
    self._utilities._console("  " + content_processed.country);

    self._utilities._console_bold("language: ");
    self._utilities._console("  " + content_processed.language);

    self._utilities._console_bold("Â¿La campaÃ±a estÃ¡ activa?: ");
    self._utilities._console("  " + content_processed.active.active);

    self._utilities._console_bold("Â¿A que nivel se ha tomado la decisiÃ³n?: ");
    self._utilities._console("  " + content_processed.active.active_level_decision);


    if (content_processed.active.active) {
        self._utilities._console_bold("Â¿La campaÃ±a permite excepciones de lenguaje?: ");
        self._utilities._console("  " + content_processed.active.language_exceptions);

        self._utilities._console_bold("Â¿A que nivel pertenecen los contenidos que se utilizarÃ¡n?: ");
        self._utilities._console("  " + content_processed.active.language_level);

        self._utilities._console_table(content_processed.contents.contents);    
    }
    

}

// FunciÃ³n pÃºblica para imprimir sin filtros la configuraciÃ³n de todos los paÃ­ses
ItxBershkaCampaingClass.prototype.print_all_countries = function(){
    var self = this;

    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");

    self._utilities._console_title_1("CONTENIDOS DE TODOS LOS PAÃSES:");    

    self.print_all_countries_commerce();
    self.print_all_countries_no_commerce();

}

// FunciÃ³n pÃºblica para imprimir sin filtros la configuraciÃ³n de todos los paÃ­ses commerce
ItxBershkaCampaingClass.prototype.print_all_countries_commerce = function(){
    var self = this;
    
    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");

    self._utilities._console_title_2("CONTENIDOS DE LOS PAÃSES COMMERCE:");

    var country_kind = self._utilities._countries_commerce.countries;

    self._print_all_countries_country_kind(country_kind);
}

// FunciÃ³n pÃºblica para imprimir sin filtros la configuraciÃ³n de todos los paÃ­ses no commerce
ItxBershkaCampaingClass.prototype.print_all_countries_no_commerce = function(){
    var self = this;
    
    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");

    self._utilities._console_title_2("CONTENIDOS DE LOS PAÃSES NO COMMERCE:");

    var country_kind_2 = self._utilities._countries_no_commerce.countries;

    self._print_all_countries_country_kind(country_kind_2);
}

// FunciÃ³n privada para imprimir sin filtros la configuraciÃ³n de todos los paÃ­ses de un coutry kind
ItxBershkaCampaingClass.prototype._print_all_countries_country_kind = function(country_kind){
    var self = this;    

    for (var i=0; i < country_kind.length; i++ ) { 

        var a_country = country_kind[i].country;

        self._utilities._console("************************************************************************************************");
        self._utilities._console_title_3("Contenidos para el paÃ­s: " + a_country);

        var a_content = self.search_content(a_country, "EN", "  ", false);

        if (a_content.active.active) {

            if (a_content.active.language_exceptions == false) {
                self.print_content_processed(a_content)
            } else {
                var languages = country_kind[i].languages;

                for (var j=0; j < languages.length; j++ ) { 
            
                    var a_language = languages[j].language;

                    self._utilities._console("-----------------------------------------------------------------------------------------");
                    self._utilities._console_bold("Contenidos para el paÃ­s: " + a_country + "en el idioma: " + a_language);

                    var contents = self.search_content(a_country, a_language, "  ", false);

                    self.print_content_processed(contents);         

                }               
            }

        }
        else {
            self._utilities._console_bold("Este paÃ­s estÃ¡ inactivo");
            self.print_content_processed(a_content)
        }





    }
}

// funciÃ³n pÃºblica para imprimir por consola la configuraciÃ³n de una campaÃ±a con filtros
ItxBershkaCampaingClass.prototype.print = function(){
    var self = this;

    var general_configuration = self._get_general_configuration();

    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");
    self._utilities._console_title_1("CONTENIDOS GENERALES:");

    var indent = " ";

    // CONFIGURACIÃN GENERAL
    // Comprobamos si la configuraciÃ³n general tiene la campaÃ±a activa
    if (general_configuration.active) {
        self._utilities._console( indent + "La configuraciÃ³n general de la campaÃ±a estÃ¡ activa.");
    }
    // Si la configuraciÃ³n general determinar que la campaÃ±a ha de estar inactiva
    else {
        self._utilities._console( indent + "La configuraciÃ³n general de la campaÃ±a estÃ¡ desactivada.");
    }

    // Comprobamos si la configuraciÃ³n general permite excepciones
    if (general_configuration.allow_exceptions) {
        self._utilities._console( indent + "La configuraciÃ³n general de la campaÃ±a permite excepciones.");

        // PaÃ­ses commerce
        self._print_country_kind(true);

        // PaÃ­ses no commerce
        self._print_country_kind(false);
    }
    // Si no permite excepciones
    else {
        self._utilities._console( indent + "La configuraciÃ³n general de la campaÃ±a no permite excepciones.");

        if (general_configuration.active) {
            self._utilities._console( indent + "Todos los paÃ­ses compartirÃ¡n contenidos:");

            // imprimimos todos los contenidos de la configuraciÃ³n general por idiomas
            self._print_contents(self._json.general.contents, indent + "  ", "is_general", null);
        }

    }

}

// FunciÃ³n pÃºblica para imprimir por consola la configuraciÃ³n de los paÃ­ses commerce con filtros
ItxBershkaCampaingClass.prototype.print_countries_commerce = function(){
    var self = this;

    self._print_country_kind(true);
}

// FunciÃ³n pÃºblica para imprimir por consola la configuraciÃ³n de los paÃ­ses no commerce con filtros
ItxBershkaCampaingClass.prototype.print_countries_no_commerce = function(){
    var self = this;

    self._print_country_kind(false);
}

// FunciÃ³n privada para poder imprimir por consola la configuraciÃ³n de un country kind con filtros
ItxBershkaCampaingClass.prototype._print_country_kind = function(commerce){
    var self = this;

    var string_com = "";
    var kind = null;

    var contents = null;
    var countries = null;
    
    var country_kind_configuration;
    
    // ConfiguraciÃ³n paÃ­ses commerce
    if (commerce) {
        string_com = "paÃ­ses commerce";
        kind = "is_commerce";
        country_kind_configuration = self._get_country_kind_configuration(true);

        contents = self._json.general.country_kind.commerce.contents;
        countries = self._json.general.country_kind.commerce.countries.countries;
    } 
    // ConfiguraciÃ³n paÃ­ses no commerce
    else {
        string_com = "paÃ­ses no commerce";
        kind = "is_no_commerce";
        country_kind_configuration = self._get_country_kind_configuration(false);

        contents = self._json.general.country_kind.no_commerce.contents;
        countries = self._json.general.country_kind.no_commerce.countries.countries;
    }

    self._utilities._console("************************************************************************************************");
    self._utilities._console("************************************************************************************************");
    self._utilities._console_title_1("CONTENIDOS PARA: " + string_com);
    
    // ActivaciÃ³n
    if (country_kind_configuration.active) {
        self._utilities._console("  La configuraciÃ³n de los " + string_com + " estÃ¡ activada");
    }
    else {
        self._utilities._console("  La configuraciÃ³n de los " + string_com + " estÃ¡ desactiva");    
    }

    // Comprobamos si permite excepciones a nivel de paÃ­s
    if (country_kind_configuration.allow_exceptions) {
        
        var common = [];

        var all_countries;

        //Buscamos todos los paÃ­ses existentes de este country kind:
        if (commerce) {
            all_countries = self._utilities._countries_commerce.countries;
        }
        else {
            all_countries = self._utilities._countries_no_commerce.countries;
        }

        // Recorremos todos los paÃ­ses existentes de este country kind:
        for (var i=0; i < all_countries.length; i++) {


            var exception = false;
            // Recorremos todos los paÃ­ses que tienen su propia configuraciÃ³n
            for (var j=0; j < countries.length; j++) {

                // Si el paÃ­s tiene su propia configuraciÃ³n  lo ignoramos
                if (all_countries[i].country == countries[j].country) {
                    
                    exception = true;

                    break;
                } 
                
            }

            // Si no tiene excepciÃ³n lo guardamos en el array de paÃ­ses comunes 
            if (exception == false) {
                common.push({"country": all_countries[i].country});
            }           
        }

        if (country_kind_configuration.active) { 
            self._utilities._console("  Estos " + string_com + " no tienen una excepciÃ³n propia y compartirÃ¡n contenido: ");

            // Imprimimos el listado de paÃ­ses que no tienen contenido propio
            self._utilities._console_table(common);

            self._print_contents(contents, "    ", kind, null);
        }



        self._utilities._console("  La configuraciÃ³n de los " + string_com + " permite excepciones por country, estos son los paÃ­ses que tendrÃ¡n un contenido propio:");

        // Imprimimos la configuraciÃ³n de los paÃ­ses que tienen excepciones.
        self._print_country_contents(countries);

    }
    else {
        self._utilities._console("  La configuraciÃ³n de los " + string_com + " no permite excepciones por country");

        if (country_kind_configuration.active) {
            self._utilities._console("  Todos los " + string_com + " compartirÃ¡n estos contenidos:");
            self._print_contents(contents, "    ", kind, null);
        }

    }   

}

// FunciÃ³n encargada de imprimir por consola la configuraciÃ³n de un paÃ­s con filtros.
ItxBershkaCampaingClass.prototype._print_country_contents = function(countries){
    var self = this;

    for (var i=0; i < countries.length; i++) {
        self._utilities._console("    ************************************************************************************************");

        self._utilities._console_title_2("    El paÃ­s: " + countries[i].country + " tiene su propia configuraciÃ³n.");

        if (countries[i].active) {
            self._utilities._console("      Este paÃ­s esta activado.");

            var contents = countries[i].contents;

            // imprimimos los contents de esta paÃ­s en concreto
            self._print_contents(contents, "      ", "is_country", countries[i].country);

        } else {
            self._utilities._console("      Este paÃ­s esta desactivado.");
        }
    }

    self._utilities._console("    ************************************************************************************************");
}

// FunciÃ³n encargade de imprimir por consola un arbol de contenidos:
ItxBershkaCampaingClass.prototype._print_contents = function(contents, indent, kind, country){
    var self = this;

    var a_country;
    var a_language;

    var a_content_processed;


    // Si no se permiten excepciones de lenguaje
    if (contents.allow_language_exceptions == false) {

        // Usaremos el inglÃ©s como idioma standard
        a_language = "EN";

        switch(kind) {
            
            case "is_country":
                a_country = country;
                break;
            
            case "is_commerce":
                a_country = "ES";
                break;
            
            case "is_no_commerce":
                a_country = "AD";
                break;

            case "is_general":
                a_country = "ES";
                break;
            
            default:
                a_country = "ES";
        
        }

        self._utilities._console( indent + "Estos contenidos no permiten excepciones de lenguaje. Se usarÃ¡ el contenido standard. Por ejemplo para el paÃ­s: " + a_country + " con el idioma: " + a_language);

        a_content_processed = self.search_content(a_country, a_language, indent, false);
        self._utilities._console(a_content_processed);
        self._utilities._console_table(a_content_processed.contents.contents);
    }
    // Con excepciones de lenguaje
    else {
        self._utilities._console( indent + "Estos contenidos permiten excepciones de lenguaje. Se usarÃ¡n los siguientes contenidos:");

        var languages;

        var message;

        switch(kind) {
            
            case "is_country":
                message = "";

                var current_country = self._utilities._searchCountryInJson(country);
                languages = current_country.languages;
                break;
            
            case "is_commerce":
                message = "Ejemplo contenidos para paÃ­ses commerce que no tienen su propia excepciÃ³n de contenido: ";
                languages = self._utilities._common_languages_commerce.languages;
                break;
            
            case "is_no_commerce":
                message = "Ejemplo contenidos para paÃ­ses no commerce que no tienen su propia excepciÃ³n de contenido: ";
                languages = self._utilities._common_languages_no_commerce.languages;
                break;

            case "is_general":
                message = "Ejemplo contenidos generales: ";
                languages = self._utilities._common_languages_commerce.languages;
                break;
        
        }

        // Recorremos todos los idiomas existentes
        for (var i=0; i < languages.length; i++) {

            self._utilities._console( indent + "------------------------------------------------------------------------------------------------");

            if (kind == "is_country") {
                a_country = country;

            } else {
                a_country = languages[i].country_example;   
            }
            
            a_language = languages[i].language;

            self._utilities._console_title_3( indent + message + "Para el paÃ­s: " + a_country + " con el idioma: " + a_language);           

            a_content_processed = self.search_content(a_country, a_language, indent, false);
            self._utilities._console(a_content_processed);
            self._utilities._console_table(a_content_processed.contents.contents);

        }       

    }

}


/*******************************************************************************************************************************/
// FUNCIONES PÃBLICAS PARA OBTENER EL VALOR DE UNA CAMPAÃA

// FunciÃ³n encargada de obtener los contenidos de un paÃ­s e idioma concreto
ItxBershkaCampaingClass.prototype.search_content = function(country, language, indent, console){
    var self = this;

    if (indent == null) {
        indent = "";
    }

    if (console == null) {
        console = true;
    }

    var a_content_processed = {
        "country": country.slice(),
        "language": language.slice(),
        "active": null,
        "contents": null
    };

    // Clonamos la configuraciÃ³n de los contenidos de la campaÃ±a
    a_content_processed.contents = jQuery.extend(true, {}, self._json.campaing_contents_configuration);

    // Guardamos las caracterÃ­sticas generales de este paÃ­s
    var current_countrie = self._utilities._searchCountryInJson(country);

    // Determinamos si esta paÃ­s estÃ¡ activo 
    var result_get_active = self._get_active(current_countrie);

    // Clonamos la configuraciÃ³n de activaciÃ³n
    a_content_processed.active = jQuery.extend(true, {}, result_get_active);

    if (console) self._utilities._console_title_3(indent + "Country: " + country + ". Language: " + language);
    
    if (result_get_active.active) {
        if (console) self._utilities._console(indent + "Este paÃ­s estÃ¡ activo. La decisiÃ³n se ha tomado al nivel: " + result_get_active.active_level_decision);
        
        if (console) self._utilities._console(indent + "Se van a usar los contenidos tomados del nivel: " + result_get_active.language_level);

        var contents = self._get_contents(result_get_active, current_countrie);

        // Si el contenido no permite excepciones de lenguaje.
        if (contents.allow_language_exceptions == false) {
            if (console) self._utilities._console(indent + "Estos contenidos no permiten excepciones de lenguaje. Se usarÃ¡ el lenguaje standard.");

            var raw_content = contents.standard;

            a_content_processed = self.raw_content(a_content_processed, raw_content);
        }
        // Si el contenido sÃ­ permite excepciones de lenguaje.
        else {
            if (console) self._utilities._console(indent + "Estos contenidos sÃ­ que permiten excepciones de lenguaje. Se usarÃ¡ el contenido del idioma: " + language);

            var raw_content = self._get_contents_language(contents, language, indent);

            a_content_processed = self.raw_content(a_content_processed, raw_content);           
        }

        a_content_processed = self.process_content(a_content_processed, indent);

    } else {
        if (console) self._utilities._console(indent + "Este paÃ­s estÃ¡ inactivo. La decisiÃ³n se ha tomado al nivel: " + result_get_active.active_level_decision);
    }

    return a_content_processed;

}

// FunciÃ³n encargada de aÃ±adir la informaciÃ³n de un content en bruto
ItxBershkaCampaingClass.prototype.raw_content = function(a_content_processed, raw_content) { 
    var self = this;

    // Recorremos los contenidos que hemos cogido de la configuraciÃ³n
    for (var i=0; i < a_content_processed.contents.contents.length; i++) {

        // Recorremos los contenidos en bruto que hemos recibido
        for (var j=0; j < raw_content.length; j++) {

            if (a_content_processed.contents.contents[j].content_name == raw_content[i].content_name) {
                
                var kind = a_content_processed.contents.contents[j].content_kind;

                // Para clonar contenidos que son solo un texto
                if (kind == "string" || kind == "image") {
                    a_content_processed.contents.contents[j].content_raw = raw_content[i].the_content.slice();
                    
                    a_content_processed.contents.contents[j].content_processed = raw_content[i].the_content.slice();
                } 
                // Para clonar contenidos que son nÃºmeros
                else if (kind == "link_categorie" || kind == "link_products") {
                    a_content_processed.contents.contents[j].content_raw = raw_content[i].the_content.valueOf();
                    
                    a_content_processed.contents.contents[j].content_processed = raw_content[i].the_content.valueOf();

                }
                // Para clonar contenidos que son objetos
                else if (kind == "link_product_color") {
                    a_content_processed.contents.contents[j].content_raw = jQuery.extend(true, {}, raw_content[i].the_content);
                    
                    a_content_processed.contents.contents[j].content_processed = jQuery.extend(true, {}, raw_content[i].the_content);

                }

                // Paramos el bucle que recorre todos los idiomas del array
                break;  
            } else {
                //self._utilities._console( indent + "El bucle no ha llegado aÃºn al idioma actual. Seguimos buscando.");
            }           

        }

    }

    return a_content_processed;
}

// FunciÃ³n encargada de procesar la informaciÃ³n de un content
ItxBershkaCampaingClass.prototype.process_content = function(a_content_processed, indent) { 
    var self = this;

    if (indent == null) {
        indent = "";
    }

    var processed_content = [];

    var country = a_content_processed.country;
    var language = a_content_processed.language;
    
    // Hacemos un bucle para recorrer todos los contenidos recibidos
    for (var i=0; i < a_content_processed.contents.contents.length; i++) {
        //self._utilities._console(indent + "El contenido: " + a_content_processed.contents.contents[i].content_name + ". Es del tipo: " + a_content_processed.contents.contents[i].content_kind );

        var country = a_content_processed.country;
        var language = a_content_processed.language;
        var single_content = a_content_processed.contents.contents[i];

        a_content_processed.contents.contents[i].content_processed = self._process_single_content(country, language, single_content);

    }

    return a_content_processed;

}

// FunciÃ³n encargada de obtener la configuraciÃ³n de los contenidos de la campaÃ±a
ItxBershkaCampaingClass.prototype._get_campaing_contents_configuration = function() { 
    var self = this;

    return self._json.campaing_contents_configuration;
}

// FunciÃ³n encargada de procesar la informaciÃ³n de un content segÃºn su content_kind
ItxBershkaCampaingClass.prototype._process_single_content = function(country, language, single_content) { 
    var self = this;

    var processed_content;

    var content_kind = single_content.content_kind

    switch (content_kind) {
        case "string":
            processed_content = self._process_string(single_content.content_processed);
            break;

        case "image":
            processed_content = self._process_image(single_content);
            break;

        case "link_categorie":
            processed_content = self._process_link_categorie(country, language, single_content.content_processed);
            break;

        case "link_products":
            processed_content = self._process_link_product(country, language, single_content.content_processed);
            break;

        case "link_product_color":
            processed_content = self._process_link_product_color(country, language, single_content.content_processed);
            break;
    }

    return processed_content;

}

ItxBershkaCampaingClass.prototype._process_string = function(single_content) { 
    var self = this;

    var processed_string;

    processed_string = single_content;

    return processed_string;
}

ItxBershkaCampaingClass.prototype._process_image = function(single_content) { 
    var self = this;

    var processed_image;

    var campaing_url = single_content.campaing_url;
    var base_name = single_content.base_name;
    var extension = single_content.extension;
    var content_to_process = single_content.content_processed;

    processed_image = self._utilities._generateFileName(campaing_url, base_name, extension, content_to_process);

    return processed_image;
}

ItxBershkaCampaingClass.prototype._process_link_categorie = function(country, language, single_content) { 
    var self = this;

    var processed_link_categorie;

    processed_link_categorie = self._utilities._getLinkCategory(single_content, country, language);

    return processed_link_categorie;

}

ItxBershkaCampaingClass.prototype._process_link_product = function(country, language, single_content) { 
    var self = this;

    var processed_link_product;

    processed_link_product = self._utilities._getLinkProduct(single_content, country, language);

    return processed_link_product;

}

ItxBershkaCampaingClass.prototype._process_link_product_color = function(country, language, single_content) { 
    var self = this;

    var processed_link_product_color;

    processed_link_product_color = self._utilities._getLinkProductColor(single_content.product, country, language, single_content.color);

    return processed_link_product_color;    
}
</script>
<style>
@media screen and (min-width:128px) and (max-width:768px){
.item.with-colors .image a:after { display:none;}
/* New styles for 3 box method shipment */
.checkout-inner > ul > li:first-child{
    margin-top:-15px;
}
.shippingMethodSelection.item-3>li {
  width: 100%;
  padding: 5px 15px;
}
.shippingMethodSelection.item-3>li>div {
  height: auto;
  padding: 0;
}
.shippingMethodSelection.item-3>li>div>span:first-child {
  margin-top: 40px;
}
.shippingMethodSelection.item-3>li>div>span {
  margin-bottom: 0;
}
.shippingMethodSelection.item-3>li>div .prices {
  position: relative;
  top: -55px;
  right: 10px;
  margin-left: 10%;
  margin-right: auto;
}
}
</style>
<script>
// Actions based on media queries.
enquire.register("screen and (min-width:128px) and (max-width:768px)", {
	match : function() {
		function UnderlineColors(){
		var allColors = $('ul.colors').find('img[alt]');
			for(var i= 0; i<allColors.length; i++){
				var filtros = $('.currentFilters ul li');
				filtros.map(function(index, el){
					var filterJoar = $(el)[0];
					if($(allColors[i]).attr('alt') === $(filterJoar).text().trim()){
						$(allColors[i]).parent().css({'border-bottom': '3px solid #000', 'padding-bottom':'5px', 'margin-bottom':'11px'});
						allColors.splice(index, 1);
					}else{
						$(allColors[i]).parent().css({'border-bottom': '0', 'padding-bottom':'5px', 'margin-bottom':'11px'});
					}
				});
			}
		}
		function UnderlineSizes(){
			var allColors = $('ul.sizes').find('span');
			for(var i= 0; i<allColors.length; i++){
				var filtros = $('.currentFilters ul li');
				filtros.map(function(index, el){
					var filterJoar = $(el)[0];
					if($(allColors[i]).text().trim() === $(filterJoar).text().trim()){
						$(allColors[i]).parent().css({'border-bottom': '3px solid #000', 'padding-bottom':'5px', 'margin-bottom':'11px'});
						allColors.splice(index, 1);
					}else{
						$(allColors[i]).parent().css({'border-bottom': '0', 'padding-bottom':'5px', 'margin-bottom':'11px'});
					}
				});
			}
		}
		var checkColors = setInterval(function(){
			var filtros = $('.currentFilters ul li');
			if(filtros.length > 0){
				UnderlineColors();
				UnderlineSizes();
			}
		}, 600);
	}
});
</script>
<!-- END SPOT=BK3_ESpot_BodyBegin -->

<noscript> <ul><li><a href="http://www.bershka.com/dz/fr/" hreflang="fr-DZ">AlgÃ©rie</a></li><li><a href="http://www.bershka.com/dz/en/" hreflang="en-DZ">AlgÃ©rie</a></li><li><a href="http://www.bershka.com/ad/es/" hreflang="es-AD">Andorra</a></li><li><a href="http://www.bershka.com/ad/ca/" hreflang="ca-AD">Andorra</a></li><li><a href="http://www.bershka.com/ad/fr/" hreflang="fr-AD">Andorra</a></li><li><a href="http://www.bershka.com/ad/en/" hreflang="en-AD">Andorra</a></li><li><a href="http://www.bershka.com/am/en/" hreflang="en-AM">Armenia</a></li><li><a href="http://www.bershka.com/at/de/" hreflang="de-AT">Austria</a></li><li><a href="http://www.bershka.com/at/en/" hreflang="en-AT">Austria</a></li><li><a href="http://www.bershka.com/az/en/" hreflang="en-AZ">Azerbaijan</a></li><li><a href="http://www.bershka.com/bh/en/" hreflang="en-BH">Bahrein</a></li><li><a href="http://www.bershka.com/be/en/" hreflang="en-BE">Belgium</a></li><li><a href="http://www.bershka.com/be/fr/" hreflang="fr-BE">Belgium</a></li><li><a href="http://www.bershka.com/be/nl/" hreflang="nl-BE">Belgium</a></li><li><a href="http://www.bershka.com/ba/en/" hreflang="en-BA">Bosnia and Herzegovina</a></li><li><a href="http://www.bershka.com/bg/en/" hreflang="en-BG">Bulgaria </a></li><li><a href="http://www.bershka.com/cn/en/" hreflang="en-CN">China</a></li><li><a href="http://www.bershka.com/cn/zh/" hreflang="zh-CN">China</a></li><li><a href="http://www.bershka.com/co/es/" hreflang="es-CO">Colombia</a></li><li><a href="http://www.bershka.com/co/en/" hreflang="en-CO">Colombia</a></li><li><a href="http://www.bershka.com/cr/es/" hreflang="es-CR">Costa Rica</a></li><li><a href="http://www.bershka.com/cr/en/" hreflang="en-CR">Costa Rica</a></li><li><a href="http://www.bershka.com/hr/en/" hreflang="en-HR">Croatia</a></li><li><a href="http://www.bershka.com/cy/en/" hreflang="en-CY">Cyprus</a></li><li><a href="http://www.bershka.com/cz/en/" hreflang="en-CZ">Czech Republic</a></li><li><a href="http://www.bershka.com/do/es/" hreflang="es-DO">Dominican Republic</a></li><li><a href="http://www.bershka.com/do/en/" hreflang="en-DO">Dominican Republic</a></li><li><a href="http://www.bershka.com/ec/es/" hreflang="es-EC">Ecuador</a></li><li><a href="http://www.bershka.com/ec/en/" hreflang="en-EC">Ecuador</a></li><li><a href="http://www.bershka.com/eg/en/" hreflang="en-EG">Egypt</a></li><li><a href="http://www.bershka.com/eg/fr/" hreflang="fr-EG">Egypt</a></li><li><a href="http://www.bershka.com/sv/es/" hreflang="es-SV">El Salvador</a></li><li><a href="http://www.bershka.com/sv/en/" hreflang="en-SV">El Salvador</a></li><li><a href="http://www.bershka.com/es/es/" hreflang="es-ES">EspaÃ±a</a></li><li><a href="http://www.bershka.com/es/ca/" hreflang="ca-ES">Espanya</a></li><li><a href="http://www.bershka.com/es/gl/" hreflang="gl-ES">EspaÃ±a</a></li><li><a href="http://www.bershka.com/es/eu/" hreflang="eu-ES">Espainia</a></li><li><a href="http://www.bershka.com/es/en/" hreflang="en-ES">Spain</a></li><li><a href="http://www.bershka.com/ic/es/" hreflang="es-IC">EspaÃ±a - Islas Canarias</a></li><li><a href="http://www.bershka.com/ic/en/" hreflang="en-IC">Spain - Canary Islands</a></li><li><a href="http://www.bershka.com/ee/en/" hreflang="en-EE">Estonia</a></li><li><a href="http://www.bershka.com/fr/fr/" hreflang="fr-FR">France</a></li><li><a href="http://www.bershka.com/fr/en/" hreflang="en-FR">France</a></li><li><a href="http://www.bershka.com/ge/en/" hreflang="en-GE">Georgia</a></li><li><a href="http://www.bershka.com/de/de/" hreflang="de-DE">Germany</a></li><li><a href="http://www.bershka.com/de/en/" hreflang="en-DE">Germany</a></li><li><a href="http://www.bershka.com/gr/el/" hreflang="el-GR">Greece</a></li><li><a href="http://www.bershka.com/gr/en/" hreflang="en-GR">Greece</a></li><li><a href="http://www.bershka.com/gt/es/" hreflang="es-GT">Guatemala</a></li><li><a href="http://www.bershka.com/gt/en/" hreflang="en-GT">Guatemala</a></li><li><a href="http://www.bershka.com/hn/es/" hreflang="es-HN">Honduras</a></li><li><a href="http://www.bershka.com/hn/en/" hreflang="en-HN">Honduras</a></li><li><a href="http://www.bershka.com/hk/en/" hreflang="en-HK">Hong Kong</a></li><li><a href="http://www.bershka.com/hu/de/" hreflang="de-HU">Hungary</a></li><li><a href="http://www.bershka.com/hu/en/" hreflang="en-HU">Hungary</a></li><li><a href="http://www.bershka.com/id/en/" hreflang="en-ID">Indonesia</a></li><li><a href="http://www.bershka.com/ie/en/" hreflang="en-IE">Ireland</a></li><li><a href="http://www.bershka.com/il/en/" hreflang="en-IL">Israel</a></li><li><a href="http://www.bershka.com/it/it/" hreflang="it-IT">Italy</a></li><li><a href="http://www.bershka.com/it/en/" hreflang="en-IT">Italy</a></li><li><a href="http://www.bershka.com/jp/en/" hreflang="en-JP">Japan</a></li><li><a href="http://www.bershka.com/jo/en/" hreflang="en-JO">Jordan</a></li><li><a href="http://www.bershka.com/kz/en/" hreflang="en-KZ">Kazajstan</a></li><li><a href="http://www.bershka.com/kw/en/" hreflang="en-KW">Kuwait</a></li><li><a href="http://www.bershka.com/lv/en/" hreflang="en-LV">Latvia</a></li><li><a href="http://www.bershka.com/lb/en/" hreflang="en-LB">Lebanon</a></li><li><a href="http://www.bershka.com/lb/fr/" hreflang="fr-LB">Lebanon</a></li><li><a href="http://www.bershka.com/lt/en/" hreflang="en-LT">Lithuania</a></li><li><a href="http://www.bershka.com/mo/en/" hreflang="en-MO">Macao</a></li><li><a href="http://www.bershka.com/mk/en/" hreflang="en-MK">Macedonia</a></li><li><a href="http://www.bershka.com/my/en/" hreflang="en-MY">Malaysia</a></li><li><a href="http://www.bershka.com/mt/en/" hreflang="en-MT">Malta</a></li><li><a href="http://www.bershka.com/ma/es/" hreflang="es-MA">Maroc</a></li><li><a href="http://www.bershka.com/ma/fr/" hreflang="fr-MA">Maroc</a></li><li><a href="http://www.bershka.com/ma/en/" hreflang="en-MA">Maroc</a></li><li><a href="http://www.bershka.com/mx/es/" hreflang="es-MX">Mexico</a></li><li><a href="http://www.bershka.com/mx/en/" hreflang="en-MX">Mexico</a></li><li><a href="http://www.bershka.com/me/en/" hreflang="en-ME">Montenegro</a></li><li><a href="http://www.bershka.com/nl/nl/" hreflang="nl-NL">Netherlands</a></li><li><a href="http://www.bershka.com/nl/en/" hreflang="en-NL">Netherlands</a></li><li><a href="http://www.bershka.com/pa/es/" hreflang="es-PA">PanamÃ¡</a></li><li><a href="http://www.bershka.com/pa/en/" hreflang="en-PA">Panama</a></li><li><a href="http://www.bershka.com/ph/en/" hreflang="en-PH">Philippines</a></li><li><a href="http://www.bershka.com/pl/pl/" hreflang="pl-PL">Poland</a></li><li><a href="http://www.bershka.com/pl/en/" hreflang="en-PL">Poland</a></li><li><a href="http://www.bershka.com/pt/pt/" hreflang="pt-PT">Portugal</a></li><li><a href="http://www.bershka.com/pt/en/" hreflang="en-PT">Portugal</a></li><li><a href="http://www.bershka.com/qa/en/" hreflang="en-QA">Qatar</a></li><li><a href="http://www.bershka.com/ro/ro/" hreflang="ro-RO">Romania</a></li><li><a href="http://www.bershka.com/ro/en/" hreflang="en-RO">Romania</a></li><li><a href="http://www.bershka.com/ru/ru/" hreflang="ru-RU">Russia</a></li><li><a href="http://www.bershka.com/ru/en/" hreflang="en-RU">Russia</a></li><li><a href="http://www.bershka.com/sa/en/" hreflang="en-SA">Saudi Arabia</a></li><li><a href="http://www.bershka.com/rs/en/" hreflang="en-RS">Serbia</a></li><li><a href="http://www.bershka.com/sg/en/" hreflang="en-SG">Singapore</a></li><li><a href="http://www.bershka.com/sk/en/" hreflang="en-SK">Slovakia</a></li><li><a href="http://www.bershka.com/si/en/" hreflang="en-SI">Slovenia</a></li><li><a href="http://www.bershka.com/kr/en/" hreflang="en-KR">South Korea</a></li><li><a href="http://www.bershka.com/ch/en/" hreflang="en-CH">Switzerland</a></li><li><a href="http://www.bershka.com/ch/it/" hreflang="it-CH">Switzerland</a></li><li><a href="http://www.bershka.com/ch/de/" hreflang="de-CH">Switzerland</a></li><li><a href="http://www.bershka.com/ch/fr/" hreflang="fr-CH">Switzerland</a></li><li><a href="http://www.bershka.com/tw/en/" hreflang="en-TW">Taiwan</a></li><li><a href="http://www.bershka.com/th/en/" hreflang="en-TH">Thailand</a></li><li><a href="http://www.bershka.com/tn/en/" hreflang="en-TN">Tunisia</a></li><li><a href="http://www.bershka.com/tr/en/" hreflang="en-TR">Turkey</a></li><li><a href="http://www.bershka.com/ua/en/" hreflang="en-UA">Ukraine</a></li><li><a href="http://www.bershka.com/ae/en/" hreflang="en-AE">United Arab Emirates</a></li><li><a href="http://www.bershka.com/gb/en/" hreflang="en-GB">United Kingdom</a></li><li><a href="http://www.bershka.com/ve/es/" hreflang="es-VE">Venezuela</a></li><li><a href="http://www.bershka.com/ve/en/" hreflang="en-VE">Venezuela</a></li></ul> </noscript><noscript><h1>Worldwide Page</h1></noscript><!-- Contenerdor para html a mostrar en modal -->
<div id="modal" class="modal"></div>

<!-- Contenedor para quickShop de producto -->
<div id="modal-qs" class="modal modal-qs"></div>

<!-- Contenerdor para html a mostrar en modal (auxiliar) -->
<div id="aux_modal" class="modal"></div>

<!-- Contenerdor para html a mostrar en modal (auxiliar) -->
<div id="modal-pad20" class="modal modal-pad20"></div>

<!-- Contenerdor para html a mostrar en modal (mensajes de success) -->
<div id="message_modal" class="modal"></div>

<!-- Contenerdor para html a mostrar en modal (mensajes de error) -->
<div id="error_modal" class="modal"></div>

<!-- Contenedor para modal con el listado de tiendas -->
<div class="storesList" data-ng-controller="ItxFooterDisplayCtrl" ng-show="showCountriesList">
	<div class="close is-mobile" data-ng-click="toggleCountries()">Cerrar</div>
	<ul>
		<li data-ng-repeat="store in countryList" ng-class="store.isOpenForSale?'open':''" data-ng-cloak data-ng-click="selectCountry(store)">{{store.countryName}}</li>
	</ul>
	<div class="storesLegend is-mobile">
		<span class="ico ico-bag-sm"></span>
		<span>Online Store</span>
	</div>
</div>

<!-- Aviso de cookies -->
<div id="cookiesWarn" class="cookiesWarn hide">
	<div class="cw-wrapper clearfix">
		<div class="alpha90"></div>
		<span class="ico ico-close" onclick="inditex.closeCookiesWarn();"></span>
<!-- BEGIN SPOT=BK3_ESpot_CookiesWarn -->
<h4>Cookies</h4>
<p>This Platform uses first- and third-party cookies to improve your experience and our services, analyzing browsing within the Platform. By continuing to browse you are accepting their use.</p>
<p>You can find more information or learn how to change the settings in our Cookie Policy.</p>
<a href="javascript:inditex.openCookiesPolicy();" class="under push-left">More information</a>

<a href="javascript:inditex.closeCookiesWarn();" class="under upper fontMedium push-right">
	OK
</a>
<!-- END SPOT=BK3_ESpot_CookiesWarn -->
	</div>
</div>
			<header class="wwHeader">
				<div class="container-fluid">
					<h1 class="logo-png"><img src="/static/itxwebstandard/images/logo.png?t=20150922222823db" alt="Bershka"></h1>
					<h1 class="logo-svg"><img src="/static/itxwebstandard/images/logo.svg?t=20150922222823db" alt="Bershka"></h1>	
				</div>
			</header>
			<div class="overlay-loader wwOverlay" data-ng-show="!showWorldWide"><div><span></span><span></span><span></span><span></span><span></span></div></div>
			<div id="iPageContent" class="noVisible">				
				<div class="storesWrapper ng-hide" data-ng-show="storesWrapper">
					<div class="container-fluid">
						<div class="overlay-close">
							<span class="close-line" data-ng-click="storesWrapper = ! storesWrapper" >CLOSE</span>
						</div>
						<div class="continents">
							<div data-ng-repeat="agru in agrupacion">							
								<ul class="continent cont{{continent.continent}}" data-ng-repeat="continent in agru.continents">	 
							        <li class="title"><h4 data-ng-bind="continent.label"></h4></li>				 
						            <!-- BEGIN: Inner ngRepeat. -->
						            <li ng-class="store.isOpenForSale?'open':''" data-ng-cloak data-ng-repeat="store in continent.stores" data-ng-click="selectCountry(store)">				 
						                {{ store.countryName }}				 
						            </li>
						            <!-- END: Inner ngRepeat. -->				 
							    </ul>
							</div>
						</div>	
						<div class="storesLegend">
							<span class="ico ico-bag-sm"></span>
							<span>Online Store</span>
						</div>										
					</div>
				</div>
				
				<div class="wwBackground">					
<!-- BEGIN SPOT=BK3_ESpot_WorldWide -->
<img src="http://static.bershka.net/4/static/itxwebstandard/images/worldwide/index.jpg?20150923042500" width="1920" height="985" />
<!-- END SPOT=BK3_ESpot_WorldWide -->
				</div>
				<div class="wwWrapper ng-hide" data-ng-show="mainWrapper">
					<ul>
						<li>
							<h4 data-ng-cloak>COUNTRY AND LANGUAGE SELECTION</h4>
						</li>
						<li class="formControl">
							<button id="countrySel" class="block btn-ico" data-ng-click="countryClick()" data-ng-cloak>
								Country: <span data-ng-bind="selectedCountry" class="upper"></span>
								<span class="ico ico-plus"></span>
							</button>
						</li>
						<li class="formControl nospace" data-ng-cloak>
							If you are visiting us from the Canary Islands please&nbsp;<a data-ng-href="{{canaryStore}}" class="under">click here</a>
						</li>
						<li class="formControl">					
							<select id="language" data-ng-model="language" data-ng-options="lang.name for lang in languages" custom-select></select>
						</li>
						<li class="formControl noPaddingBottom">
							<button data-ng-click="gotoHome()" class="block">Enter</button>
						</li>
					</ul>
				</div>
			</div>
<!-- BEGIN SPOT=BK3_ESpot_BodyEnd -->

<!-- END SPOT=BK3_ESpot_BodyEnd -->

<iframe src="https://www.bershka.com/i-frame-helper.html?t=20150922222823db" style="position:absolute;width:1px;height:1px;left:-9999px;" onload="inditex.initialize(this)"></iframe>
    <script>
        $(function () {
            var $win = $(window);
            $win.scroll(_.debounce(function () {
                if ($win.height() + $win.scrollTop() === $(document).height()) {
                    alreadyTriggered = true;
                    $(document).trigger('GTM-push', 'page-bottom-reached');
                }
            }, 500, false));
        });
    </script>
	</body>
</html>


<!-- BEGIN Monitor -->
<!--TagPageName="ItxWorldWidePage"-->
<!--itxStoreId="BershkaES"-->
<!--itxStoreLang="en"-->
<!--itxStoreType="VENTA"-->
<!-- END Monitor -->
